{"version":3,"file":"js/app.6b11a700.js","mappings":"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","sources":["webpack://vue-cloud-storage/./src/App.vue","webpack://vue-cloud-storage/./src/components/TopBar.vue","webpack://vue-cloud-storage/./src/components/UserMenu.vue","webpack://vue-cloud-storage/./src/controllers/piniaSingleton.js","webpack://vue-cloud-storage/./src/controllers/baseController.js","webpack://vue-cloud-storage/./src/controllers/userRequestController.js","webpack://vue-cloud-storage/./src/store/authStore.js","webpack://vue-cloud-storage/src/components/UserMenu.vue","webpack://vue-cloud-storage/./src/components/UserMenu.vue?f747","webpack://vue-cloud-storage/./src/components/UserMenu.vue?bef9","webpack://vue-cloud-storage/src/components/TopBar.vue","webpack://vue-cloud-storage/./src/components/TopBar.vue?dbbc","webpack://vue-cloud-storage/./src/components/TopBar.vue?68c1","webpack://vue-cloud-storage/src/App.vue","webpack://vue-cloud-storage/./src/App.vue?7e46","webpack://vue-cloud-storage/./src/App.vue?0e40","webpack://vue-cloud-storage/./src/plugins/vuetify.js","webpack://vue-cloud-storage/./src/views/FileView.vue","webpack://vue-cloud-storage/./src/components/FileListView.vue","webpack://vue-cloud-storage/./src/components/NoFilesCard.vue","webpack://vue-cloud-storage/src/components/NoFilesCard.vue","webpack://vue-cloud-storage/./src/components/NoFilesCard.vue?6124","webpack://vue-cloud-storage/./src/components/NoFilesCard.vue?3b67","webpack://vue-cloud-storage/./src/components/FileListItem.vue","webpack://vue-cloud-storage/./src/mixins/fileItemMixin.js","webpack://vue-cloud-storage/src/components/FileListItem.vue","webpack://vue-cloud-storage/./src/components/FileListItem.vue?d673","webpack://vue-cloud-storage/./src/components/FileListItem.vue?6ebd","webpack://vue-cloud-storage/./src/mixins/fileLayoutMixin.js","webpack://vue-cloud-storage/src/components/FileListView.vue","webpack://vue-cloud-storage/./src/components/FileListView.vue?d257","webpack://vue-cloud-storage/./src/components/FileListView.vue?48a8","webpack://vue-cloud-storage/./src/components/FileGridView.vue","webpack://vue-cloud-storage/./src/components/FileGridItem.vue","webpack://vue-cloud-storage/src/components/FileGridItem.vue","webpack://vue-cloud-storage/./src/components/FileGridItem.vue?31ac","webpack://vue-cloud-storage/./src/components/FileGridItem.vue?6211","webpack://vue-cloud-storage/src/components/FileGridView.vue","webpack://vue-cloud-storage/./src/components/FileGridView.vue?0205","webpack://vue-cloud-storage/./src/components/FileGridView.vue?890c","webpack://vue-cloud-storage/./src/components/PreloadListView.vue","webpack://vue-cloud-storage/src/components/PreloadListView.vue","webpack://vue-cloud-storage/./src/components/PreloadListView.vue?8593","webpack://vue-cloud-storage/./src/components/PreloadListView.vue?7720","webpack://vue-cloud-storage/./src/components/PreloadGridView.vue","webpack://vue-cloud-storage/src/components/PreloadGridView.vue","webpack://vue-cloud-storage/./src/components/PreloadGridView.vue?fa11","webpack://vue-cloud-storage/./src/components/PreloadGridView.vue?a3a6","webpack://vue-cloud-storage/./src/components/FileUploadDialog.vue","webpack://vue-cloud-storage/./src/components/DateInput.vue","webpack://vue-cloud-storage/src/components/DateInput.vue","webpack://vue-cloud-storage/./src/components/DateInput.vue?0e06","webpack://vue-cloud-storage/./src/components/DateInput.vue?6985","webpack://vue-cloud-storage/./src/components/TimeInput.vue","webpack://vue-cloud-storage/src/components/TimeInput.vue","webpack://vue-cloud-storage/./src/components/TimeInput.vue?cd34","webpack://vue-cloud-storage/./src/components/TimeInput.vue?e349","webpack://vue-cloud-storage/src/components/FileUploadDialog.vue","webpack://vue-cloud-storage/./src/components/FileUploadDialog.vue?043d","webpack://vue-cloud-storage/./src/components/FileUploadDialog.vue?e6cf","webpack://vue-cloud-storage/./src/components/FloatingControls.vue","webpack://vue-cloud-storage/src/components/FloatingControls.vue","webpack://vue-cloud-storage/./src/components/FloatingControls.vue?26eb","webpack://vue-cloud-storage/./src/components/FloatingControls.vue?d26d","webpack://vue-cloud-storage/./src/components/FolderCreationDialog.vue","webpack://vue-cloud-storage/src/components/FolderCreationDialog.vue","webpack://vue-cloud-storage/./src/components/FolderCreationDialog.vue?212a","webpack://vue-cloud-storage/./src/components/FolderCreationDialog.vue?915e","webpack://vue-cloud-storage/./src/components/OneFieldDialog.vue","webpack://vue-cloud-storage/src/components/OneFieldDialog.vue","webpack://vue-cloud-storage/./src/components/OneFieldDialog.vue?3eb5","webpack://vue-cloud-storage/./src/components/OneFieldDialog.vue?1ccf","webpack://vue-cloud-storage/src/views/FileView.vue","webpack://vue-cloud-storage/./src/views/FileView.vue?65a4","webpack://vue-cloud-storage/./src/views/FileView.vue?1f90","webpack://vue-cloud-storage/./src/views/AuthView.vue","webpack://vue-cloud-storage/src/views/AuthView.vue","webpack://vue-cloud-storage/./src/views/AuthView.vue?07b1","webpack://vue-cloud-storage/./src/views/AuthView.vue?1f36","webpack://vue-cloud-storage/./src/views/RegisterView.vue","webpack://vue-cloud-storage/src/views/RegisterView.vue","webpack://vue-cloud-storage/./src/views/RegisterView.vue?8c0b","webpack://vue-cloud-storage/./src/views/RegisterView.vue?4f51","webpack://vue-cloud-storage/./src/views/PublicDownloadView.vue","webpack://vue-cloud-storage/./src/controllers/publicRequestController.js","webpack://vue-cloud-storage/src/views/PublicDownloadView.vue","webpack://vue-cloud-storage/./src/views/PublicDownloadView.vue?6730","webpack://vue-cloud-storage/./src/views/PublicDownloadView.vue?2a3e","webpack://vue-cloud-storage/./src/router/index.js","webpack://vue-cloud-storage/./src/main.js","webpack://vue-cloud-storage/webpack/bootstrap","webpack://vue-cloud-storage/webpack/runtime/chunk loaded","webpack://vue-cloud-storage/webpack/runtime/compat get default export","webpack://vue-cloud-storage/webpack/runtime/define property getters","webpack://vue-cloud-storage/webpack/runtime/ensure chunk","webpack://vue-cloud-storage/webpack/runtime/get javascript chunk filename","webpack://vue-cloud-storage/webpack/runtime/get mini-css chunk filename","webpack://vue-cloud-storage/webpack/runtime/global","webpack://vue-cloud-storage/webpack/runtime/hasOwnProperty shorthand","webpack://vue-cloud-storage/webpack/runtime/load script","webpack://vue-cloud-storage/webpack/runtime/make namespace object","webpack://vue-cloud-storage/webpack/runtime/publicPath","webpack://vue-cloud-storage/webpack/runtime/jsonp chunk loading","webpack://vue-cloud-storage/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-app',[_c('top-bar'),_c('v-main',[_c('router-view')],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-app-bar',{attrs:{\"app\":\"\",\"color\":\"primary\",\"dark\":\"\"}},[_vm._t(\"nav\"),_c('div',{staticClass:\"d-flex align-center\"},[_c('v-img',{staticClass:\"shrink mr-2\",attrs:{\"alt\":\"Vue logo\",\"contain\":\"\",\"src\":require('../assets/logo.svg'),\"transition\":\"scale-transition\",\"width\":\"35\"}}),_c('v-toolbar-title',{staticClass:\"text-h6 text-md-h4 text-xl-h3\"},[_vm._v(\"Vue cloud storage\")])],1),_c('v-spacer'),_c('user-menu')],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-menu',{attrs:{\"left\":\"\",\"offset-x\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({on, attrs}){return [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"aria-hidden\":\"false\"}},[_vm._v(\" \"+_vm._s(_vm.authStore.isAuthorized ? 'mdi-account' : 'mdi-login-variant')+\" \")])],1)]}}])},[_c('v-card',[_c('v-card-title',[_vm._v(\" \"+_vm._s(_vm.authStore.isAuthorized ? \"Profile\" : \"Authorization\")+\" \")]),_c('v-card-text',[_c('v-list',{attrs:{\"subheader\":\"\"}},[_c('v-subheader',[_vm._v(\"Info\")]),(_vm.authStore.isAuthorized)?_vm._l((_vm.authStore.user),function(value,field){return _c('v-list-item',{key:field},[(value.displayable === undefined || value.displayable === true)?_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(value.label)}}),_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s(value.formatter !== undefined ? value.formatter(value.value) : value.value)}})],1):_vm._e()],1)}):_c('v-list-item',[_vm._v(\" You are currently not authorized. Please log in or register. \")])],2),_c('v-divider'),_c('v-list',{attrs:{\"subheader\":\"\"}},[_c('v-subheader',[_vm._v(\"Actions\")]),_c('v-list-item-group',_vm._l((_vm.actions),function(action){return _c('v-list-item',{key:action.title,on:{\"click\":action.action}},[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"aria-hidden\":\"true\"},domProps:{\"textContent\":_vm._s(action.icon)}})],1),_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(action.title)}})],1)}),1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { createPinia as createPiniaDefault } from 'pinia';\r\n\r\nlet instance = null;\r\n\r\nexport default function createPinia() {\r\n    if (instance === null)\r\n        instance = createPiniaDefault();\r\n    return instance;\r\n}","import axios from \"axios\";\r\n\r\n// TODO: change default error handler to 422-handler instead of null\r\nexport default class BaseController {\r\n    client\r\n\r\n    constructor(host, settings = null) {\r\n        if (!settings) settings = {\r\n            baseURL: host,\r\n            timeout: 2000,\r\n            headers: {'Content-Type': 'application/json'}\r\n        };\r\n        this.client = axios.create(settings);\r\n    }\r\n\r\n    async genericPostRequest(url, params, errorHandler = null) {\r\n        try {\r\n            const response = await this.client.post(url, {}, {\r\n                params: params\r\n            });\r\n            return response.data;\r\n        } catch (e) {\r\n            if (errorHandler)\r\n                errorHandler(e);\r\n            else throw e;\r\n        }\r\n    }\r\n\r\n    async genericGetRequest(url, params = {}, errorHandler = null) {\r\n        try {\r\n            const response = await this.client.get(url, {\r\n                params: params\r\n            });\r\n            return response.data;\r\n        } catch (e) {\r\n            if (errorHandler)\r\n                errorHandler(e);\r\n            else throw e;\r\n        }\r\n    }\r\n\r\n    async genericDeleteRequest(url, params = {}, errorHandler = null) {\r\n        try {\r\n            const response = await this.client.delete(url, {\r\n                params: params\r\n            });\r\n            return response.data;\r\n        } catch (e) {\r\n            if (errorHandler)\r\n                errorHandler(e);\r\n            else throw e;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Converts provided Date object to required by API string representation\r\n     *\r\n     * @param {Date} date\r\n     * @returns {string} DateTime in format 'YYYY-MM-DD HH:MM'\r\n     */\r\n    convertDateTime(date) {\r\n        const parts = date.toISOString().split('T');\r\n        parts[1] = parts[1].split('.')[0];\r\n        return `${parts[0]} ${parts[1]}`;\r\n    }\r\n\r\n}","import {AxiosError} from \"axios\";\r\nimport BaseController from \"@/controllers/baseController\";\r\n\r\nconst LONG_TIMEOUT = 1000 * 60 * 60;\r\n// Request controller for authorised requests\r\n// TODO: refactor\r\nexport default class UserRequestController extends BaseController{\r\n    token\r\n\r\n    constructor(host) {\r\n        super(host)\r\n        this.token = null;\r\n        this.client.interceptors.request.use((config) => {\r\n            config.headers.Authorization =  this.token ? `Bearer ${this.token}` : '';\r\n            return config;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Sets handler for error 401. Should be called after authStore creation.\r\n     *\r\n     * @param handler handler function. Error will be passed as parameter. Default: empty function.\r\n     */\r\n    setUnAuthHandler(handler = () => {}) {\r\n        this.client.interceptors.response\r\n            .use(\r\n                (response) => response,\r\n                (error) => {\r\n\r\n                    if (error.status === 401)\r\n                    {\r\n                        handler(error);\r\n                    }\r\n                    throw error;\r\n                })\r\n    }\r\n\r\n    setToken(token) {\r\n      this.token = token;\r\n    }\r\n\r\n    /**\r\n     * Makes a login request to API\r\n     *\r\n     * @throws Error message on 422 (either wrong email or password)\r\n     *\r\n     * @param {string} email user email\r\n     * @param {string} password user password\r\n     * @returns {Promise<string>} user bearer token\r\n     */\r\n    async login(email, password) {\r\n        const content = await this.genericPostRequest('/auth/login', {email, password},\r\n            (e) => {\r\n                if (e.response && e.response.status === 422) {\r\n                    throw Object.values(e.response.data.errors).flat();\r\n                }\r\n            });\r\n        return content.data.token;\r\n    }\r\n\r\n    /**\r\n     * Makes a register call to API.\r\n     *\r\n     * @throws \"Email already in use\" on status 422\r\n     *\r\n     * @param {string} email User email\r\n     * @param {string} password User password\r\n     * @param {string} name User name\r\n     * @returns {Promise<void>}\r\n     */\r\n    async register(email, password, name) {\r\n        await this.genericPostRequest('/auth/register', {\r\n            email, password, name\r\n        }, (e) => {\r\n            if (e.response && e.response.status === 422) {\r\n                throw Object.values(e.response.data.errors).flat();\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Makes a logout request to API\r\n     *\r\n     * @returns {Promise<void>}\r\n     */\r\n    async logout() {\r\n        return this.genericPostRequest('/auth/logout', {});\r\n    }\r\n\r\n    async getUserData() {\r\n        const response = await this.client.get('/user');\r\n        return response.data.data;\r\n    }\r\n\r\n    async getFiles(folderId = -1) {\r\n        const data = await this.genericGetRequest('/files', { folder_id: folderId });\r\n        return data.data;\r\n    }\r\n\r\n    async getFolders() {\r\n        const data = await this.genericGetRequest('/folders', {});\r\n        return data.data;\r\n    }\r\n\r\n    async getFolder(folderId) {\r\n        const data = await this.genericGetRequest(`/folders/${folderId}`, {},\r\n        (e) => {\r\n            if (e.response && e.response.status === 404)\r\n                throw 'Folder not found';\r\n        });\r\n        return data.data;\r\n    }\r\n\r\n    async createFolder(folderName) {\r\n        try {\r\n            const response = await this.genericPostRequest('/folders', {name: folderName});\r\n            if (response instanceof AxiosError)\r\n                throw response;\r\n            else return response.data;\r\n        } catch (e) {\r\n            if (e.response && e.response.status === 422)\r\n                throw Object.values(e.response.data.errors).flat();\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    async renameFile(id, newName) {\r\n        try {\r\n            const result = await this.client.patch(`/files/${id}`, {}, {\r\n                params: {\r\n                    name: newName\r\n                }\r\n            });\r\n            if (result instanceof AxiosError)\r\n                throw result;\r\n            return result.data.data;\r\n        } catch (e) {\r\n            if (e.response && e.response.status === 422)\r\n                throw Object.values(e.response.data.errors).flat();\r\n        }\r\n    }\r\n\r\n    async publishFile(id) {\r\n        try {\r\n            const result = await this.genericPostRequest(`/files/${id}/publish`, {});\r\n            if (result instanceof AxiosError)\r\n                throw result;\r\n            return result.data;\r\n        } catch (e) {\r\n            if (e.response && e.response.status === 422)\r\n                throw Object.values(e.response.data.errors).flat();\r\n        }\r\n    }\r\n\r\n    async deleteFile(id) {\r\n        await this.genericDeleteRequest(`/files/${id}`, {}, (e) => {\r\n            if (e.response && e.response.status === 404)\r\n                throw 'File not found. Maybe it has expired?';\r\n            throw e;\r\n        });\r\n    }\r\n\r\n    async uploadFile(file, folder_id = -1, expires_at = null, progressHandler = () => {}) {\r\n        const formData = new FormData();\r\n        formData.append(\"file\", file);\r\n        if (folder_id !== -1)\r\n            formData.append(\"folder_id\", folder_id);\r\n        if (expires_at)\r\n            formData.append(\"expires_at\", this.convertDateTime(expires_at));\r\n        try {\r\n            const response = await this.client.post('/files', formData, {\r\n                headers: {\r\n                    \"Content-Type\": \"multipart/form-data\"\r\n                },\r\n                timeout: LONG_TIMEOUT,\r\n                onUploadProgress: progressHandler\r\n            });\r\n            if (response instanceof AxiosError)\r\n                throw response;\r\n            else return response.data.data;\r\n        } catch (e) {\r\n            if (e.response && e.response.status === 422)\r\n            {\r\n                throw Object.values(e.response.data.errors).flat();\r\n            }\r\n            else throw e;\r\n        }\r\n    }\r\n\r\n    async downloadFile(file, progressHandler = () => {}) {\r\n        try {\r\n            const response = await this.client.get(`/files/${file.id}/download`, {\r\n                responseType: 'blob',\r\n                timeout: LONG_TIMEOUT,\r\n                onDownloadProgress: progressHandler\r\n            });\r\n            if (response instanceof AxiosError)\r\n                throw response;\r\n            // Content disposition is unavailable, so full_name from file data is used\r\n            const url = window.URL.createObjectURL(new Blob([response.data]));\r\n            const link = document.createElement('a');\r\n            link.href = url;\r\n            link.setAttribute('download', file.full_name);\r\n            link.click();\r\n            link.remove();\r\n            window.URL.revokeObjectURL(url);\r\n        } catch (e) {\r\n            if (e.response && e.response.status === 404)\r\n                throw 'File not found. Maybe it has expired?';\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Converts provided Date object to required by API string representation\r\n     *\r\n     * @param {Date} date\r\n     * @returns {string} DateTime in format 'YYYY-MM-DD HH:MM'\r\n     */\r\n    convertDateTime(date) {\r\n        const parts = date.toISOString().split('T');\r\n        parts[1] = parts[1].split('.')[0];\r\n        return `${parts[0]} ${parts[1]}`;\r\n    }\r\n}","import {defineStore} from 'pinia';\r\nimport createPinia from \"@/controllers/piniaSingleton\";\r\nimport UserRequestController from \"@/controllers/userRequestController\";\r\nimport Vue from \"vue\";\r\n// import router from \"@/router\";\r\n\r\nconst pinia = createPinia();\r\n\r\n/**\r\n * Date reviver function for json.parse\r\n *\r\n * @param key\r\n * @param value\r\n * @returns {Date|*}\r\n */\r\nfunction dateTimeReviver(key, value) {\r\n    if (typeof value === 'string') {\r\n        let reISO = /^\\d{4}-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d(\\.\\d+)?(([+-]\\d\\d:\\d\\d)|Z)?$/i;\r\n        if (reISO.test(value)) {\r\n            return new Date(value);\r\n        }\r\n    }\r\n    return value;\r\n}\r\n\r\nexport function fileSizeFormatter(bytes) {\r\n    switch (true) {\r\n        case bytes > 1000000:\r\n            return `${(bytes / 1000000).toFixed(2)} MB`;\r\n        case bytes > 1000:\r\n            return `${(bytes / 1000).toFixed(2)} KB`;\r\n        default: return `${bytes} B`;\r\n    }\r\n}\r\n\r\n/**\r\n * Generates default userdata object. Fields with displayable: false will not be displayed with other user info\r\n * Label is human-readable field title\r\n * TODO: refactor to class with field iterator (for view) and field getters/setters (for others)\r\n *\r\n * @type {() => Record<string, {value: unknown, label: string} | {displayable: false, value: unknown}>}\r\n */\r\nconst getDefaultUserData = () => ({\r\n    name: {\r\n        value: \"\",\r\n        label: \"Username\"\r\n    },\r\n    email: {\r\n        value: \"\",\r\n        label: \"Email\"\r\n    },\r\n    storageInUse: {\r\n        label: \"Storage in use\",\r\n        value: 0,\r\n        formatter: fileSizeFormatter\r\n    },\r\n    storageTotal: {\r\n        label: \"Total storage\",\r\n        value: 0,\r\n        formatter: fileSizeFormatter\r\n    },\r\n    registrationDate: {\r\n        value: \"\",\r\n        label: \"Registration date\",\r\n        formatter: (date) => date.toLocaleString()\r\n    },\r\n    token: {\r\n        displayable: false,\r\n        value: null\r\n    },\r\n    preferredFileLayout: {\r\n        displayable: false,\r\n        value: 0\r\n    }\r\n});\r\n\r\n\r\n// TODO: Refactor those functions to storageController class\r\nfunction buildLabel(prefix) {\r\n    return `${prefix}--user`;\r\n}\r\n\r\n// Function to read local user from storage. Ugly, all this mess should be remade into userData class\r\nfunction getLocalUser(prefix) {\r\n    let user = localStorage.getItem(buildLabel(prefix));\r\n    if (!user)\r\n        return getDefaultUserData();\r\n    user = JSON.parse(user, dateTimeReviver);\r\n    const defUser = getDefaultUserData();\r\n    // restore formatters\r\n    Object.keys(user).forEach((key) => {\r\n        if (defUser[key].formatter !== undefined)\r\n            user[key].formatter = defUser[key].formatter;\r\n    })\r\n    return user;\r\n}\r\n\r\nfunction setLocalUser(prefix, data) {\r\n    // console.log('Save user');\r\n    localStorage.setItem(buildLabel(prefix), JSON.stringify(data));\r\n}\r\n\r\n// TODO: Should handle requests failed because of 'unauthorized'\r\nexport const useAuthStore = defineStore('auth', {\r\n    state: () => ({\r\n        userRequestController: new UserRequestController('http://markwebdev.ru/api/v1'),\r\n        user: getDefaultUserData()\r\n    }),\r\n    getters: {\r\n        isAuthorized: (state) => state.user?.token.value !== undefined && state.user.token.value !== null\r\n    },\r\n    actions: {\r\n        /**\r\n         * Authenticate user. Returns object with result data for view\r\n         *\r\n         * @param {string} email\r\n         * @param {string} password\r\n         * @returns {Promise<{success: boolean, errors: string[]}>}\r\n         */\r\n        async authenticate(email, password) {\r\n            try {\r\n                const token = await this.userRequestController.login(email, password);\r\n                this.user.token.value = token;\r\n                this.userRequestController.setToken(token);\r\n                await this.getUserData();\r\n                return {success: true, errors: [\"Logged in!\"]}\r\n            }\r\n            catch (e) {\r\n                return {success: false, errors: e};\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Register user. Returns object with results for view.\r\n         *\r\n         * @param {string} email\r\n         * @param {string} password\r\n         * @param {string} name\r\n         * @returns {Promise<{success: boolean, errors: string[]}>}\r\n         */\r\n        async register(email, password, name) {\r\n            try {\r\n                await this.userRequestController.register(email, password, name);\r\n                return {success: true, errors: [\"Registered!\"]};\r\n            }\r\n            catch (e) {\r\n                return {success: false, errors: e};\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Make a logout call to API. Caller expected to redirect user afterwards\r\n         *\r\n         * @returns {Promise<void>}\r\n         */\r\n        async logout() {\r\n            await this.userRequestController.logout();\r\n            this.clearAuthData();\r\n        },\r\n\r\n        clearAuthData() {\r\n            this.user = getDefaultUserData();\r\n            this.userRequestController.setToken(null);\r\n        },\r\n\r\n        async getUserData() {\r\n            try {\r\n                const userData = await this.userRequestController.getUserData();\r\n                this.user.email.value = userData.email;\r\n                this.user.name.value = userData.name;\r\n                this.user.storageInUse.value = userData.storage_size;\r\n                this.user.storageTotal.value = userData.storage_quota;\r\n                this.user.registrationDate.value = new Date(userData.created_at);\r\n            }\r\n            catch (e) {\r\n                console.debug(e);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Attempt to recover user data from localhost\r\n         */\r\n        tryRememberUser() {\r\n            // console.log('Remember user');\r\n            this.user = getLocalUser('vue-cloud-storage');\r\n            if (this.user.token.value)\r\n                this.userRequestController.setToken(this.user.token.value);\r\n            // Pull user data updates\r\n            this.getUserData();\r\n        },\r\n\r\n        /**\r\n         * Action for local update of used storage. It is accurate enough for runtime size redisplay\r\n         *\r\n         * @param {Number} amount\r\n         */\r\n        updateStorageTaken(amount) {\r\n            this.user.storageInUse.value += amount;\r\n        },\r\n\r\n        /**\r\n         * Saves preferred layout of files (grid/list) to storage, creating field if required\r\n         *\r\n         * @param {number} layoutIndex\r\n         */\r\n        setPreferredFileLayout(layoutIndex) {\r\n            if (this.user.preferredFileLayout)\r\n                this.user.preferredFileLayout.value = layoutIndex;\r\n            else {\r\n                const layoutData = getDefaultUserData().preferredFileLayout;\r\n                layoutData.value = layoutIndex;\r\n                Vue.set(this.user, 'preferredFileLayout', layoutData);\r\n            }\r\n        }\r\n    },\r\n});\r\n\r\nconst store = useAuthStore(pinia);\r\nstore.userRequestController.setUnAuthHandler(() => {\r\n    store.clearAuthData();\r\n});\r\nstore.tryRememberUser();\r\nstore.$subscribe((\r\n    mutation,\r\n    state\r\n) => setLocalUser('vue-cloud-storage', state.user), {detached: true});\r\n\r\n","<template>\r\n  <v-menu left offset-x>\r\n    <template v-slot:activator=\"{on, attrs}\">\r\n      <v-btn icon\r\n        v-bind=\"attrs\"\r\n        v-on=\"on\"\r\n      >\r\n        <v-icon aria-hidden=\"false\">\r\n          {{authStore.isAuthorized ? 'mdi-account' : 'mdi-login-variant'}}\r\n        </v-icon>\r\n      </v-btn>\r\n    </template>\r\n    <v-card>\r\n      <v-card-title>\r\n        {{authStore.isAuthorized ? \"Profile\" : \"Authorization\"}}\r\n      </v-card-title>\r\n      <v-card-text>\r\n        <v-list subheader>\r\n          <v-subheader>Info</v-subheader>\r\n          <template v-if=\"authStore.isAuthorized\">\r\n            <v-list-item\r\n                v-for=\"(value, field) of authStore.user\"\r\n                :key=\"field\">\r\n              <v-list-item-content v-if=\"value.displayable === undefined || value.displayable === true\">\r\n                <v-list-item-title v-text=\"value.label\">\r\n                </v-list-item-title>\r\n                <v-list-item-subtitle v-text=\"value.formatter !== undefined ? value.formatter(value.value) : value.value\">\r\n                </v-list-item-subtitle>\r\n              </v-list-item-content>\r\n            </v-list-item>\r\n          </template>\r\n          <v-list-item v-else>\r\n            You are currently not authorized. Please log in or register.\r\n          </v-list-item>\r\n        </v-list>\r\n        <v-divider></v-divider>\r\n        <v-list subheader>\r\n          <v-subheader>Actions</v-subheader>\r\n          <v-list-item-group>\r\n            <v-list-item\r\n                v-for=\"action of actions\"\r\n                :key=\"action.title\"\r\n                @click=\"action.action\"\r\n            >\r\n              <v-list-item-icon>\r\n                <v-icon aria-hidden=\"true\" v-text=\"action.icon\"></v-icon>\r\n              </v-list-item-icon>\r\n              <v-list-item-title v-text=\"action.title\"></v-list-item-title>\r\n            </v-list-item>\r\n          </v-list-item-group>\r\n        </v-list>\r\n      </v-card-text>\r\n    </v-card>\r\n  </v-menu>\r\n</template>\r\n\r\n<script>\r\nimport {useAuthStore} from \"@/store/authStore\";\r\nexport default {\r\n  name: \"UserMenu\",\r\n  setup() {\r\n    const authStore = useAuthStore()\r\n    return { authStore }\r\n  },\r\n  methods: {\r\n    deduplicatedNavigation: function(path) {\r\n      if (this.$router.currentRoute.path !== path)\r\n        this.$router.push(path);\r\n    }\r\n  },\r\n  computed: {\r\n    actions: function() {\r\n      let actions = null;\r\n      if (this.authStore.isAuthorized) {\r\n        actions = [\r\n          {\r\n            title: 'Logout',\r\n            icon: 'mdi-logout',\r\n            action: () => { this.authStore.logout().then(() => {\r\n                this.deduplicatedNavigation('/auth')\r\n              })\r\n            }\r\n          }\r\n        ]\r\n      }\r\n      else {\r\n        actions = [\r\n          {\r\n            title: 'Login',\r\n            icon: 'mdi-login',\r\n            action: () => { this.deduplicatedNavigation('/auth') }\r\n          },\r\n          {\r\n            title: 'Register',\r\n            icon: 'mdi-account-plus',\r\n            action: () => { this.deduplicatedNavigation('/register') }\r\n          }\r\n        ]\r\n      }\r\n      return actions;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserMenu.vue?vue&type=template&id=381bf3fc&scoped=true&\"\nimport script from \"./UserMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./UserMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"381bf3fc\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <v-app-bar app\r\n             color=\"primary\"\r\n             dark\r\n  >\r\n    <slot name=\"nav\"></slot>\r\n    <div class=\"d-flex align-center\">\r\n      <v-img\r\n          alt=\"Vue logo\"\r\n          class=\"shrink mr-2\"\r\n          contain\r\n          :src=\"require('../assets/logo.svg')\"\r\n          transition=\"scale-transition\"\r\n          width=\"35\"\r\n      />\r\n\r\n      <v-toolbar-title class=\"text-h6 text-md-h4 text-xl-h3\">Vue cloud storage</v-toolbar-title>\r\n    </div>\r\n<!--    <nav>-->\r\n<!--      <router-link to=\"/\">Home</router-link> |-->\r\n<!--      <router-link to=\"/about\">About</router-link>-->\r\n<!--    </nav>-->\r\n\r\n    <v-spacer></v-spacer>\r\n    <user-menu></user-menu>\r\n  </v-app-bar>\r\n</template>\r\n\r\n<script>\r\nimport UserMenu from \"@/components/UserMenu\";\r\n\r\nexport default {\r\n  name: \"TopBar\",\r\n  components: {UserMenu}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TopBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TopBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TopBar.vue?vue&type=template&id=73ce48a2&scoped=true&\"\nimport script from \"./TopBar.vue?vue&type=script&lang=js&\"\nexport * from \"./TopBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"73ce48a2\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <v-app>\r\n    <top-bar>\r\n<!--      Disabled due to side-bar disability   -->\r\n<!--      <template v-slot:nav>-->\r\n<!--        <v-app-bar-nav-icon @click=\"toggleDrawer\"></v-app-bar-nav-icon>-->\r\n<!--      </template>-->\r\n    </top-bar>\r\n<!--    Side bar is disabled temporarily  -->\r\n<!--    <side-bar-->\r\n<!--      v-model=\"navDrawerShown\"-->\r\n<!--    ></side-bar>-->\r\n    <v-main>\r\n      <router-view/>\r\n    </v-main>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nimport  { RouterView } from 'vue-router';\r\n// import SideBar from \"@/components/SideBar\";\r\nimport TopBar from \"@/components/TopBar\";\r\n\r\nexport default {\r\n  name: 'App',\r\n\r\n  components: {\r\n    TopBar,\r\n    RouterView,\r\n    // SideBar\r\n  },\r\n\r\n  methods: {\r\n    toggleDrawer: function() {\r\n      this.navDrawerShown = !this.navDrawerShown;\r\n    }\r\n  },\r\n\r\n  data: () => ({\r\n    // Set to null so actual starting value defaults on scren size at app launch\r\n    navDrawerShown: null\r\n  }),\r\n};\r\n</script>\r\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=033cff03&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\r\nimport Vuetify from 'vuetify/lib/framework';\r\n\r\nVue.use(Vuetify);\r\n\r\nexport default new Vuetify({\r\n});\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',[_c('v-toolbar',[_c('v-toolbar-title',{domProps:{\"textContent\":_vm._s(_vm.currentFolder.name)}}),_c('v-spacer'),_c('v-btn-toggle',{attrs:{\"group\":\"\",\"mandatory\":\"\"},model:{value:(_vm.viewMode),callback:function ($$v) {_vm.viewMode=$$v},expression:\"viewMode\"}},[_c('v-btn',[_c('v-icon',[_vm._v(\" mdi-format-list-bulleted \")])],1),_c('v-btn',[_c('v-icon',[_vm._v(\" mdi-dots-grid \")])],1)],1),_c('v-chip',{staticClass:\"ml-4\",domProps:{\"textContent\":_vm._s(_vm.formattedFolderSize)}})],1),(!_vm.loaded)?_c(_vm.selectedPreload,{tag:\"component\"}):_c(_vm.selectedViewLayout,{tag:\"component\",attrs:{\"files\":_vm.files,\"folders\":_vm.folders},on:{\"delete_file\":function($event){return _vm.deleteFile($event)},\"download_file\":function($event){return _vm.downloadFile($event)},\"open_folder\":function($event){return _vm.openFolder($event)},\"rename_file\":function($event){return _vm.renameFile($event)},\"publish_file\":function($event){return _vm.publishFile($event)},\"show_file_dialog\":function($event){_vm.uploadDialogShown = true}}}),_c('file-upload-dialog',{attrs:{\"folder-id\":_vm.folderId ? parseInt(_vm.folderId) : -1},on:{\"new_file\":_vm.processNewFile},model:{value:(_vm.uploadDialogShown),callback:function ($$v) {_vm.uploadDialogShown=$$v},expression:\"uploadDialogShown\"}}),_c('folder-creation-dialog',{on:{\"new_folder\":_vm.processNewFolder},model:{value:(_vm.creationDialogShown),callback:function ($$v) {_vm.creationDialogShown=$$v},expression:\"creationDialogShown\"}}),_c('one-field-dialog',{attrs:{\"on-accept\":_vm.auxDialog.action,\"accept-action-title\":_vm.auxDialog.actionTitle,\"field-label\":_vm.auxDialog.fieldLabel,\"title\":_vm.auxDialog.title,\"placeholder\":_vm.auxDialog.placeholder,\"readonly\":_vm.auxDialog.readonly,\"on-show\":_vm.auxDialog.onShow,\"autofocus\":_vm.auxDialog.autofocus},model:{value:(_vm.auxDialog.shown),callback:function ($$v) {_vm.$set(_vm.auxDialog, \"shown\", $$v)},expression:\"auxDialog.shown\"}}),_c('floating-controls',{attrs:{\"actions\":_vm.restrictedControlsActions},on:{\"show_file_dialog\":function($event){_vm.uploadDialogShown = true},\"show_folder_dialog\":function($event){_vm.creationDialogShown = true}},model:{value:(_vm.controlsExpanded),callback:function ($$v) {_vm.controlsExpanded=$$v},expression:\"controlsExpanded\"}}),_c('v-snackbar',{attrs:{\"timeout\":\"2000\"},scopedSlots:_vm._u([{key:\"action\",fn:function({ attrs }){return [_c('v-btn',_vm._b({attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){_vm.error.shown = false}}},'v-btn',attrs,false),[_vm._v(\" Close \")])]}}]),model:{value:(_vm.error.shown),callback:function ($$v) {_vm.$set(_vm.error, \"shown\", $$v)},expression:\"error.shown\"}},[_vm._v(\" \"+_vm._s(_vm.error.text)+\" \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (!(_vm.files && _vm.files.length > 0) && !(_vm.folders && _vm.folders.length > 0))?_c('no-files-card',_vm._g({staticClass:\"ma-5\"},_vm.$listeners)):_c('div',[(_vm.folders && _vm.folders.length > 0)?_c('v-list',{attrs:{\"subheader\":\"\"}},[_c('v-subheader',[_vm._v(\"Folders\")]),_c('v-list-item-group',{attrs:{\"value\":_vm.selection.folder},on:{\"change\":function($event){return _vm.updateSelection('folder', $event)}}},_vm._l((_vm.folders),function(folder){return _c('file-list-item',_vm._g({key:folder.id,attrs:{\"file\":folder,\"type\":'folder'}},_vm.$listeners))}),1)],1):_vm._e(),_c('v-divider'),(_vm.files && _vm.files.length > 0)?_c('v-list',{attrs:{\"subheader\":\"\"}},[_c('v-subheader',[_vm._v(\"Files\")]),_c('v-list-item-group',{attrs:{\"value\":_vm.selection.file},on:{\"change\":function($event){return _vm.updateSelection('file', $event)}}},_vm._l((_vm.files),function(file){return _c('file-list-item',_vm._g({key:file.id,attrs:{\"file\":file}},_vm.$listeners))}),1)],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-card',[_c('v-card-title',[_vm._v(\" This folder is empty \")]),_c('v-card-text',[_vm._v(\" Maybe it's time to upload something? \")]),_c('v-card-actions',[_c('v-btn',{attrs:{\"plain\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('show_file_dialog')}}},[_vm._v(\" Upload file \")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-card>\r\n    <v-card-title>\r\n      This folder is empty\r\n    </v-card-title>\r\n    <v-card-text>\r\n      Maybe it's time to upload something?\r\n    </v-card-text>\r\n    <v-card-actions>\r\n      <v-btn\r\n          plain\r\n          color=\"primary\"\r\n          @click.stop=\"$emit('show_file_dialog')\"\r\n      >\r\n        Upload file\r\n      </v-btn>\r\n    </v-card-actions>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"NoFilesCard\"\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NoFilesCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NoFilesCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NoFilesCard.vue?vue&type=template&id=545dd9ef&scoped=true&\"\nimport script from \"./NoFilesCard.vue?vue&type=script&lang=js&\"\nexport * from \"./NoFilesCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"545dd9ef\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-list-item',[_c('v-list-item-avatar',[_c('v-icon',[_vm._v(_vm._s(_vm.fileType.icon))])],1),_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"file-list-item__title\"},[_vm._v(\" \"+_vm._s(_vm.file.name)+\" \"),(_vm.file.public_url)?_c('v-chip',{attrs:{\"color\":\"primary\",\"x-small\":\"\"}},[_vm._v(\" Public \")]):_vm._e(),(_vm.file.expires_at)?_c('v-chip',{attrs:{\"color\":\"warning\",\"x-small\":\"\"}},[_vm._v(\" Temp \")]):_vm._e()],1),(!_vm.file.is_downloading)?_c('v-list-item-subtitle',[_vm._v(\" \"+_vm._s(_vm.date)+\" \")]):_c('v-list-item-subtitle',[_c('v-progress-linear',{attrs:{\"value\":_vm.progress}})],1)],1),_c('v-list-item-action',{staticClass:\"file-list-item__actions\"},[(_vm.fileType.type !== 'Folder')?_c('v-btn',{attrs:{\"icon\":\"\",\"disabled\":_vm.file.is_downloading},on:{\"click\":function($event){$event.stopPropagation();return _vm.download.apply(null, arguments)}}},[_c('v-icon',{attrs:{\"color\":\"grey lighten-1\"}},[_vm._v(\"mdi-download\")])],1):_vm._e(),(_vm.fileType.type !== 'Folder')?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.renameFile.apply(null, arguments)}}},[_c('v-icon',{attrs:{\"color\":\"grey lighten-1\"}},[_vm._v(\"mdi-pencil\")])],1):_vm._e(),(_vm.fileType.type !== 'Folder')?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.publishFile.apply(null, arguments)}}},[_c('v-icon',{attrs:{\"color\":\"grey lighten-1\"}},[_vm._v(\"mdi-share-variant\")])],1):_vm._e(),(_vm.fileType.type !== 'Folder')?_c('v-btn',{attrs:{\"icon\":\"\",\"disabled\":_vm.file.is_downloading},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteFile.apply(null, arguments)}}},[_c('v-icon',{attrs:{\"color\":\"red lighten-2\"}},[_vm._v(\"mdi-delete\")])],1):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nconst fileTypes = [\r\n    {\r\n        type: 'Image',\r\n        regex: /jpe?g|a?png|kra|gif|psd|tiff|avif|webp|bmp|ico/i,\r\n        icon: 'mdi-file-image'\r\n    },\r\n    {\r\n        type: 'Video',\r\n        regex: /avi|mpe?g|mkv|m4v/i,\r\n        icon: 'mdi-file-video'\r\n    },\r\n    {\r\n        type: 'Audio',\r\n        regex: /mp3|m4a|flac|alac|wav/i,\r\n        icon: 'mdi-file-music'\r\n    },\r\n    {\r\n        type: 'Archive',\r\n        regex: /zipp?|rar|tar|gz/i,\r\n        icon: 'mdi-zip-box'\r\n    },\r\n    {\r\n        type: 'Text',\r\n        regex: /txt|rtf|md/i,\r\n        icon: 'mdi-file-document-outline'\r\n    },\r\n    {\r\n        type: 'Document',\r\n        regex: /docx?|odf|odt|pages/i,\r\n        icon: 'mdi-file-document'\r\n    },\r\n    {\r\n        type: 'PDF',\r\n        regex: /pdf/i,\r\n        icon: 'mdi-file-pdf-box'\r\n    },\r\n    {\r\n        type: 'Table',\r\n        regex: /xlsx?|ods|csv/i,\r\n        icon: 'mdi-file-table'\r\n    },\r\n    {\r\n        type: 'Code',\r\n        regex: /c(pp)?|h(pp)?|jsx?|tsx?|pyc?/i,\r\n        icon: 'mdi-file-code'\r\n    },\r\n    {\r\n        type: 'Folder',\r\n        regex: /folder/i,\r\n        icon: 'mdi-folder'\r\n    },\r\n    {\r\n        type: 'Unknown',\r\n        regex: /.*/i,\r\n        icon: 'mdi-file-question'\r\n    }\r\n];\r\n\r\nconst fileItemMixin = {\r\n    props: {\r\n        type: {\r\n            type: String,\r\n            default: 'file'\r\n        },\r\n        file: {\r\n            type: Object,\r\n            required: true\r\n        }\r\n    },\r\n    methods: {\r\n        showInformation: function() {\r\n            this.$emit('show_information', this.file, this.fileType);\r\n        },\r\n        download: function() {\r\n            this.$emit('download_file', this.file);\r\n        },\r\n        deleteFile: function() {\r\n            this.$emit('delete_file', this.file);\r\n        },\r\n        renameFile: function () {\r\n            this.$emit('rename_file', this.file);\r\n        },\r\n        publishFile: function () {\r\n            this.$emit('publish_file', this.file);\r\n        },\r\n        getExtension: function(file) {\r\n            const parts = file.split('.');\r\n            if (parts.length > 1)\r\n                return parts.pop();\r\n            return \"\";\r\n        }\r\n    },\r\n    computed: {\r\n        fileType: function() {\r\n            const fileExtension = this.type === 'folder' ? 'folder' : this.getExtension(this.file.full_name);\r\n            return fileTypes.find((type) => type.regex.test(fileExtension));\r\n        },\r\n        date: function() {\r\n            if (this.file.id === -1) return \"\";\r\n            if (this.file.updated_at)\r\n                return this.file.updated_at.toLocaleString();\r\n            return this.file.created_at.toLocaleString();\r\n        },\r\n        progress: function() {\r\n            if (!this.file.is_downloading) return 0;\r\n            if (this.file.download_total === 0) return 0;\r\n            return Math.round(this.file.download_progress / this.file.download_total * 100);\r\n        }\r\n    }\r\n};\r\n\r\nexport default fileItemMixin;","<template>\r\n  <v-list-item>\r\n    <v-list-item-avatar>\r\n      <v-icon>{{ fileType.icon }}</v-icon>\r\n    </v-list-item-avatar>\r\n    <v-list-item-content>\r\n      <v-list-item-title class=\"file-list-item__title\">\r\n        {{ file.name }}\r\n          <v-chip v-if=\"file.public_url\"\r\n                  color=\"primary\"\r\n                  x-small\r\n          >\r\n            Public\r\n          </v-chip>\r\n          <v-chip v-if=\"file.expires_at\"\r\n                  color=\"warning\"\r\n                  x-small\r\n          >\r\n            Temp\r\n          </v-chip>\r\n        </v-list-item-title>\r\n      <v-list-item-subtitle v-if=\"!file.is_downloading\">\r\n        {{ date }}\r\n      </v-list-item-subtitle>\r\n      <v-list-item-subtitle v-else><v-progress-linear :value=\"progress\"></v-progress-linear></v-list-item-subtitle>\r\n    </v-list-item-content>\r\n    <v-list-item-action class=\"file-list-item__actions\">\r\n      <!-- temporarily disabled -->\r\n<!--      <v-btn-->\r\n<!--          v-if=\"fileType.type === 'Folder' && file.id !== -1\"-->\r\n<!--          icon-->\r\n<!--          @click.stop=\"showInformation\"-->\r\n<!--      >-->\r\n<!--        <v-icon color=\"grey lighten-1\">mdi-information</v-icon>-->\r\n<!--      </v-btn>-->\r\n      <v-btn\r\n          v-if=\"fileType.type !== 'Folder'\"\r\n          icon\r\n          @click.stop=\"download\"\r\n          :disabled=\"file.is_downloading\"\r\n      >\r\n        <v-icon color=\"grey lighten-1\">mdi-download</v-icon>\r\n      </v-btn>\r\n      <v-btn\r\n          v-if=\"fileType.type !== 'Folder'\"\r\n          icon\r\n          @click.stop=\"renameFile\"\r\n      >\r\n        <v-icon color=\"grey lighten-1\">mdi-pencil</v-icon>\r\n      </v-btn>\r\n      <v-btn\r\n          v-if=\"fileType.type !== 'Folder'\"\r\n          icon\r\n          @click.stop=\"publishFile\"\r\n      >\r\n        <v-icon color=\"grey lighten-1\">mdi-share-variant</v-icon>\r\n      </v-btn>\r\n      <v-btn\r\n          v-if=\"fileType.type !== 'Folder'\"\r\n          icon\r\n          @click.stop=\"deleteFile\"\r\n          :disabled=\"file.is_downloading\"\r\n      >\r\n        <v-icon color=\"red lighten-2\">mdi-delete</v-icon>\r\n      </v-btn>\r\n    </v-list-item-action>\r\n  </v-list-item>\r\n</template>\r\n\r\n<script>\r\n\r\nimport FileItemMixin from \"@/mixins/fileItemMixin\";\r\n\r\nexport default {\r\n  name: \"FileListItem\",\r\n  mixins: [FileItemMixin]\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .file-list-item__actions {\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n  }\r\n\r\n  .file-list-item__title {\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: 5px;\r\n    align-items: center;\r\n  }\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FileListItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FileListItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FileListItem.vue?vue&type=template&id=4ae85070&scoped=true&\"\nimport script from \"./FileListItem.vue?vue&type=script&lang=js&\"\nexport * from \"./FileListItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FileListItem.vue?vue&type=style&index=0&id=4ae85070&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ae85070\",\n  null\n  \n)\n\nexport default component.exports","\r\nconst fileLayoutMixin = {\r\n    data: () => ({\r\n        selection: {\r\n            folder: null,\r\n            file: null\r\n        }\r\n    }),\r\n    props: {\r\n        files: Array,\r\n        folders: Array\r\n    },\r\n    methods: {\r\n        updateSelection: function(key, value) {\r\n            Object.keys(this.selection)\r\n                .filter((k) => k !== key)\r\n                .forEach((k) => this.selection[k] = null);\r\n            this.selection[key] = value;\r\n            if (key === 'folder' && value !== undefined) {\r\n                this.$emit('open_folder', this.folders[this.selection[key]]);\r\n                this.selection[key] = null;\r\n            }\r\n        }\r\n    },\r\n};\r\n\r\nexport default fileLayoutMixin;","<template>\r\n  <no-files-card class=\"ma-5\" v-if=\"!(files && files.length > 0) && !(folders && folders.length > 0)\"\r\n    v-on=\"$listeners\"\r\n  >\r\n  </no-files-card>\r\n  <div v-else>\r\n    <v-list subheader v-if=\"folders && folders.length > 0\">\r\n      <v-subheader>Folders</v-subheader>\r\n      <v-list-item-group :value=\"selection.folder\" @change=\"updateSelection('folder', $event)\">\r\n        <file-list-item\r\n            v-for=\"folder of folders\"\r\n            :key=\"folder.id\"\r\n            :file=\"folder\"\r\n            :type=\"'folder'\"\r\n            v-on=\"$listeners\"\r\n        >\r\n        </file-list-item>\r\n      </v-list-item-group>\r\n    </v-list>\r\n    <v-divider></v-divider>\r\n    <v-list subheader v-if=\"files && files.length > 0\">\r\n      <v-subheader>Files</v-subheader>\r\n      <v-list-item-group :value=\"selection.file\" @change=\"updateSelection('file', $event)\">\r\n        <file-list-item\r\n            v-for=\"file of files\"\r\n            :key=\"file.id\"\r\n            :file=\"file\"\r\n            v-on=\"$listeners\"\r\n        >\r\n        </file-list-item>\r\n      </v-list-item-group>\r\n    </v-list>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NoFilesCard from \"@/components/NoFilesCard\";\r\nimport FileListItem from \"@/components/FileListItem\";\r\nimport FileLayoutMixin from \"@/mixins/fileLayoutMixin\";\r\n\r\n// v-on=\"$listeners\" could be replaced with global state if more cases like this arise\r\nexport default {\r\n  name: \"FileListView\",\r\n  components: {\r\n    NoFilesCard,\r\n    FileListItem\r\n  },\r\n  mixins: [FileLayoutMixin]\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FileListView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FileListView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FileListView.vue?vue&type=template&id=4bd9bdc9&scoped=true&\"\nimport script from \"./FileListView.vue?vue&type=script&lang=js&\"\nexport * from \"./FileListView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4bd9bdc9\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (!(_vm.files && _vm.files.length > 0) && !(_vm.folders && _vm.folders.length > 0))?_c('no-files-card',_vm._g({staticClass:\"ma-5\"},_vm.$listeners)):_c('div',{staticClass:\"file-grid-view\"},[_vm._l((_vm.folders),function(folder,index){return _c('file-grid-item',_vm._g({key:folder.id,attrs:{\"file\":folder,\"type\":'folder',\"selected\":_vm.selection.folder === index},on:{\"click\":function($event){return _vm.updateSelection('folder', index)}}},_vm.$listeners))}),_vm._l((_vm.files),function(file,index){return _c('file-grid-item',_vm._g({key:file.id,attrs:{\"file\":file,\"selected\":_vm.selection.folder === index},on:{\"click\":function($event){return _vm.updateSelection('file', index)}}},_vm.$listeners))})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-card',{staticClass:\"file-grid-item\",on:{\"click\":function($event){return _vm.$emit('click')}}},[_c('v-icon',{attrs:{\"size\":\"100\"}},[_vm._v(\" \"+_vm._s(_vm.fileType.icon)+\" \")]),_c('v-card-title',{staticClass:\"file-grid-item__title\"},[_vm._v(\" \"+_vm._s(_vm.shortenedName)+\" \"),_c('v-chip-group',[(_vm.file.public_url)?_c('v-chip',{attrs:{\"color\":\"primary\",\"x-small\":\"\"}},[_vm._v(\" Public \")]):_vm._e(),(_vm.file.expires_at)?_c('v-chip',{attrs:{\"color\":\"warning\",\"x-small\":\"\"}},[_vm._v(\" Temp \")]):_vm._e()],1)],1),(!_vm.file.is_downloading)?_c('v-card-text',{staticClass:\"file-grid-item__text\"},[_vm._v(\" \"+_vm._s(_vm.date)+\" \")]):_c('v-card-text',[_c('v-progress-linear',{attrs:{\"value\":_vm.progress}})],1),_c('v-spacer'),_c('v-card-actions',[(_vm.fileType.type !== 'Folder')?_c('v-btn',{attrs:{\"icon\":\"\",\"disabled\":_vm.file.is_downloading},on:{\"click\":function($event){$event.stopPropagation();return _vm.download.apply(null, arguments)}}},[_c('v-icon',{attrs:{\"color\":\"grey lighten-1\"}},[_vm._v(\"mdi-download\")])],1):_vm._e(),(_vm.fileType.type !== 'Folder')?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.renameFile.apply(null, arguments)}}},[_c('v-icon',{attrs:{\"color\":\"grey lighten-1\"}},[_vm._v(\"mdi-pencil\")])],1):_vm._e(),(_vm.fileType.type !== 'Folder')?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.publishFile.apply(null, arguments)}}},[_c('v-icon',{attrs:{\"color\":\"grey lighten-1\"}},[_vm._v(\"mdi-share-variant\")])],1):_vm._e(),(_vm.fileType.type !== 'Folder')?_c('v-btn',{attrs:{\"icon\":\"\",\"disabled\":_vm.file.is_downloading},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteFile.apply(null, arguments)}}},[_c('v-icon',{attrs:{\"color\":\"red lighten-2\"}},[_vm._v(\"mdi-delete\")])],1):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-card\r\n      class=\"file-grid-item\"\r\n      @click=\"$emit('click')\"\r\n  >\r\n    <v-icon size=\"100\">\r\n      {{ fileType.icon }}\r\n    </v-icon>\r\n    <v-card-title class=\"file-grid-item__title\">\r\n      {{shortenedName}}\r\n      <v-chip-group>\r\n        <v-chip\r\n            v-if=\"file.public_url\"\r\n            color=\"primary\"\r\n            x-small\r\n        >\r\n          Public\r\n        </v-chip>\r\n        <v-chip v-if=\"file.expires_at\"\r\n                color=\"warning\"\r\n                x-small\r\n        >\r\n          Temp\r\n        </v-chip>\r\n      </v-chip-group>\r\n    </v-card-title>\r\n    <v-card-text v-if=\"!file.is_downloading\" class=\"file-grid-item__text\">\r\n      {{ date }}\r\n    </v-card-text>\r\n    <v-card-text v-else>\r\n      <v-progress-linear :value=\"progress\">\r\n      </v-progress-linear>\r\n    </v-card-text>\r\n    <v-spacer></v-spacer>\r\n    <v-card-actions>\r\n      <v-btn\r\n          v-if=\"fileType.type !== 'Folder'\"\r\n          icon\r\n          @click.stop=\"download\"\r\n          :disabled=\"file.is_downloading\"\r\n      >\r\n        <v-icon color=\"grey lighten-1\">mdi-download</v-icon>\r\n      </v-btn>\r\n      <v-btn\r\n          v-if=\"fileType.type !== 'Folder'\"\r\n          icon\r\n          @click.stop=\"renameFile\"\r\n      >\r\n        <v-icon color=\"grey lighten-1\">mdi-pencil</v-icon>\r\n      </v-btn>\r\n      <v-btn\r\n          v-if=\"fileType.type !== 'Folder'\"\r\n          icon\r\n          @click.stop=\"publishFile\"\r\n      >\r\n        <v-icon color=\"grey lighten-1\">mdi-share-variant</v-icon>\r\n      </v-btn>\r\n      <v-btn\r\n          v-if=\"fileType.type !== 'Folder'\"\r\n          icon\r\n          @click.stop=\"deleteFile\"\r\n          :disabled=\"file.is_downloading\"\r\n      >\r\n        <v-icon color=\"red lighten-2\">mdi-delete</v-icon>\r\n      </v-btn>\r\n    </v-card-actions>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport fileItemMixin from \"@/mixins/fileItemMixin\";\r\n\r\nexport default {\r\n  name: \"FileGridItem\",\r\n  mixins: [fileItemMixin],\r\n  computed: {\r\n    shortenedName: function() {\r\n      let cut = this.file.name.slice(0, 30);\r\n      if (cut.length < this.file.name.length)\r\n        cut += \"...\";\r\n      return cut;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .file-grid-item {\r\n    display: flex;\r\n    padding: 10px;\r\n    flex-direction: column;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n  }\r\n\r\n  .file-grid-item__title {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    gap: 5px;\r\n  }\r\n\r\n  .file-grid-item__text {\r\n    text-align: center;\r\n  }\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FileGridItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FileGridItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FileGridItem.vue?vue&type=template&id=5db093f4&scoped=true&\"\nimport script from \"./FileGridItem.vue?vue&type=script&lang=js&\"\nexport * from \"./FileGridItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FileGridItem.vue?vue&type=style&index=0&id=5db093f4&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5db093f4\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <no-files-card class=\"ma-5\" v-if=\"!(files && files.length > 0) && !(folders && folders.length > 0)\"\r\n                 v-on=\"$listeners\"\r\n  >\r\n  </no-files-card>\r\n  <div v-else class=\"file-grid-view\">\r\n    <file-grid-item\r\n        v-for=\"(folder, index) of folders\" :key=\"folder.id\"\r\n        :file=\"folder\"\r\n        :type=\"'folder'\"\r\n        :selected=\"selection.folder === index\"\r\n        v-on=\"$listeners\"\r\n        @click=\"updateSelection('folder', index)\"\r\n    >\r\n    </file-grid-item>\r\n    <file-grid-item\r\n        v-for=\"(file, index) of files\"\r\n        :key=\"file.id\"\r\n        :file=\"file\"\r\n        v-on=\"$listeners\"\r\n        :selected=\"selection.folder === index\"\r\n        @click=\"updateSelection('file', index)\"\r\n    >\r\n    </file-grid-item>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport FileGridItem from \"@/components/FileGridItem\";\r\nimport NoFilesCard from \"@/components/NoFilesCard\";\r\nimport fileLayoutMixin from \"@/mixins/fileLayoutMixin\";\r\nexport default {\r\n  name: \"FileGridView\",\r\n  mixins: [fileLayoutMixin],\r\n  components: {\r\n    FileGridItem,\r\n    NoFilesCard\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .file-grid-view {\r\n    --columns: 1;\r\n    display: grid;\r\n    grid-template-columns: repeat(var(--columns), 1fr);\r\n    gap: 32px;\r\n    padding-top: 16px;\r\n  }\r\n  \r\n  @media (min-width: 600px) {\r\n    .file-grid-view {\r\n      --columns: 2;\r\n    }\r\n  }\r\n\r\n  @media (min-width: 960px) {\r\n    .file-grid-view {\r\n      --columns: 3;\r\n    }\r\n  }\r\n\r\n  @media (min-width: 1264px) {\r\n    .file-grid-view {\r\n      --columns: 4;\r\n    }\r\n  }\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FileGridView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FileGridView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FileGridView.vue?vue&type=template&id=62368f54&scoped=true&\"\nimport script from \"./FileGridView.vue?vue&type=script&lang=js&\"\nexport * from \"./FileGridView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FileGridView.vue?vue&type=style&index=0&id=62368f54&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"62368f54\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"preload-list\"},_vm._l((10),function(index){return _c('v-skeleton-loader',{key:index,staticClass:\"preload-list__loader\",attrs:{\"type\":\"avatar, text@2, button\"}})}),1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"preload-list\">\r\n    <v-skeleton-loader\r\n      v-for=\"index in 10\" :key=\"index\"\r\n      class=\"preload-list__loader\"\r\n      type=\"avatar, text@2, button\">\r\n    </v-skeleton-loader>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"PreloadListView\"\r\n}\r\n</script>\r\n\r\n<!--suppress CssInvalidPseudoSelector -->\r\n<style scoped>\r\n  .preload-list {\r\n    padding: 10px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 10px;\r\n  }\r\n\r\n  .preload-list__loader {\r\n    display: grid;\r\n    grid-template-rows: 25px 25px;\r\n    grid-template-columns: min(80px, 20%) 1fr min(20%, 150px);\r\n    justify-items: center;\r\n    align-items: center;\r\n  }\r\n\r\n  .preload-list__loader:deep(.v-skeleton-loader__avatar) {\r\n    grid-row: 1 / span2;\r\n    grid-column: 1;\r\n    border-radius: 10px;\r\n    height: 80%;\r\n    width: 80%;\r\n  }\r\n\r\n  .preload-list__loader:deep(.v-skeleton-loader__text) {\r\n    margin: 0;\r\n    grid-column: 2;\r\n    height: 60%;\r\n    width: 100%;\r\n    align-self: center;\r\n  }\r\n\r\n  .preload-list__loader:deep(.v-skeleton-loader__button) {\r\n    grid-row: 1 / span2;\r\n    grid-column: 3;\r\n    width: 80%;\r\n    height: 80%;\r\n  }\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PreloadListView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PreloadListView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PreloadListView.vue?vue&type=template&id=51f81794&scoped=true&\"\nimport script from \"./PreloadListView.vue?vue&type=script&lang=js&\"\nexport * from \"./PreloadListView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PreloadListView.vue?vue&type=style&index=0&id=51f81794&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"51f81794\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"preload-grid\"},_vm._l((10),function(index){return _c('v-skeleton-loader',{key:index,attrs:{\"type\":\"card, actions\"}})}),1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"preload-grid\">\r\n    <v-skeleton-loader\r\n        v-for=\"index in 10\" :key=\"index\"\r\n        class=\"\"\r\n        type=\"card, actions\">\r\n    </v-skeleton-loader>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"PreloadGridView\"\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.preload-grid {\r\n  --columns: 1;\r\n  display: grid;\r\n  grid-template-columns: repeat(var(--columns), 1fr);\r\n  gap: 32px;\r\n  padding-top: 16px;\r\n}\r\n\r\n@media (min-width: 600px) {\r\n  .preload-grid {\r\n    --columns: 2;\r\n  }\r\n}\r\n\r\n@media (min-width: 960px) {\r\n  .preload-grid {\r\n    --columns: 3;\r\n  }\r\n}\r\n\r\n@media (min-width: 1264px) {\r\n  .preload-grid {\r\n    --columns: 4;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PreloadGridView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PreloadGridView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PreloadGridView.vue?vue&type=template&id=5ec6e734&scoped=true&\"\nimport script from \"./PreloadGridView.vue?vue&type=script&lang=js&\"\nexport * from \"./PreloadGridView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PreloadGridView.vue?vue&type=style&index=0&id=5ec6e734&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ec6e734\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"value\":_vm.isShown,\"persistent\":_vm.locked},on:{\"input\":function($event){return _vm.$emit('toggleVisibility', $event)}}},[_c('v-card',[(_vm.upload.inProgress)?_c('v-progress-linear',{attrs:{\"absolute\":\"\",\"top\":\"\",\"value\":_vm.uploadProgress,\"color\":\"primary\"}}):_vm._e(),_c('v-card-title',[_vm._v(\"Upload file\")]),_c('v-card-text',[_vm._l((_vm.alerts),function(alert,i){return _c('v-alert',{key:i,attrs:{\"color\":\"warning\"},domProps:{\"textContent\":_vm._s(alert)}})}),_c('v-form',{model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-file-input',{attrs:{\"show-size\":\"\",\"label\":\"File to upload\",\"rules\":_vm.rules,\"required\":\"\"},model:{value:(_vm.file),callback:function ($$v) {_vm.file=$$v},expression:\"file\"}}),_c('v-checkbox',{attrs:{\"label\":\"Temporary file\"},model:{value:(_vm.fileExpires),callback:function ($$v) {_vm.fileExpires=$$v},expression:\"fileExpires\"}}),(_vm.fileExpires)?[_c('date-input',{attrs:{\"min\":new Date()},model:{value:(_vm.expire.date),callback:function ($$v) {_vm.$set(_vm.expire, \"date\", $$v)},expression:\"expire.date\"}}),_c('time-input',{model:{value:(_vm.expire.time),callback:function ($$v) {_vm.$set(_vm.expire, \"time\", $$v)},expression:\"expire.time\"}})]:_vm._e()],2)],2),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"plain\":\"\",\"disabled\":_vm.locked},on:{\"click\":function($event){$event.stopPropagation();return _vm.closeDialog.apply(null, arguments)}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"plain\":\"\",\"color\":\"primary\",\"disabled\":_vm.locked || !_vm.valid},on:{\"click\":function($event){$event.stopPropagation();return _vm.uploadFile.apply(null, arguments)}}},[_vm._v(\" Upload \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"Expire date\",\"prepend-icon\":\"mdi-calendar\",\"value\":_vm.value.toLocaleDateString(),\"readonly\":\"\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.menu),callback:function ($$v) {_vm.menu=$$v},expression:\"menu\"}},[_c('v-date-picker',{attrs:{\"no-title\":\"\",\"min\":_vm.min ? _vm.min.toISOString() : undefined,\"max\":_vm.max ? _vm.max.toISOString() : undefined,\"value\":_vm.value.toISOString()},on:{\"input\":function($event){_vm.$emit('input', new Date($event))}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-menu\r\n      offset-y\r\n      v-model=\"menu\"\r\n  >\r\n    <template v-slot:activator=\"{ on, attrs }\">\r\n      <v-text-field\r\n          label=\"Expire date\"\r\n          prepend-icon=\"mdi-calendar\"\r\n          :value=\"value.toLocaleDateString()\"\r\n          v-bind=\"attrs\"\r\n          v-on=\"on\"\r\n          readonly\r\n      ></v-text-field>\r\n    </template>\r\n    <v-date-picker\r\n        no-title\r\n        :min=\"min ? min.toISOString() : undefined\"\r\n        :max=\"max ? max.toISOString() : undefined\"\r\n        :value=\"value.toISOString()\"\r\n        @input=\"$emit('input', new Date($event))\"\r\n    >\r\n    </v-date-picker>\r\n  </v-menu>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"DateInput\",\r\n  props: {\r\n    value: Date,\r\n    min: Date,\r\n    max: Date\r\n  },\r\n  data: () => ({\r\n    menu: false\r\n  })\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DateInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DateInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DateInput.vue?vue&type=template&id=442c694c&scoped=true&\"\nimport script from \"./DateInput.vue?vue&type=script&lang=js&\"\nexport * from \"./DateInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"442c694c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-menu',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"Expire time\",\"prepend-icon\":\"mdi-clock-time-four-outline\",\"value\":_vm.value.toLocaleTimeString(),\"readonly\":\"\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.menu),callback:function ($$v) {_vm.menu=$$v},expression:\"menu\"}},[(_vm.menu)?_c('v-time-picker',{attrs:{\"no-title\":\"\",\"format\":\"24hr\",\"value\":_vm.time},on:{\"input\":_vm.emitTime,\"click:minute\":function($event){_vm.menu = false}}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-menu\r\n      offset-y\r\n      v-model=\"menu\"\r\n      :close-on-content-click=\"false\"\r\n  >\r\n    <template v-slot:activator=\"{ on, attrs }\">\r\n      <v-text-field\r\n          label=\"Expire time\"\r\n          prepend-icon=\"mdi-clock-time-four-outline\"\r\n          :value=\"value.toLocaleTimeString()\"\r\n          v-bind=\"attrs\"\r\n          v-on=\"on\"\r\n          readonly\r\n      ></v-text-field>\r\n    </template>\r\n    <v-time-picker\r\n        v-if=\"menu\"\r\n        no-title\r\n        format=\"24hr\"\r\n        :value=\"time\"\r\n        @input=\"emitTime\"\r\n        @click:minute=\"menu = false\"\r\n    >\r\n    </v-time-picker>\r\n  </v-menu>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"TimeInput\",\r\n  props: {\r\n    value: Date\r\n  },\r\n  data: () => ({\r\n    menu: false,\r\n    innerTime: new Date(0)\r\n  }),\r\n  computed: {\r\n    time: function () {\r\n      return `${this.value.getHours().toString().padStart(2,'0')}:${this.value.getMinutes().toString().padStart(2, '0')}`;\r\n    }\r\n  },\r\n  methods: {\r\n    emitTime: function (time) {\r\n      const [hours, minutes] = time.split(':').map((part) => parseInt(part));\r\n      // Create new object so Vue reactivity works\r\n      const newDate = new Date(this.innerTime.getTime());\r\n      if (!Number.isNaN(hours))\r\n        newDate.setHours(hours);\r\n      if (!Number.isNaN(minutes))\r\n        newDate.setMinutes(minutes);\r\n      this.$emit('input', newDate);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TimeInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TimeInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TimeInput.vue?vue&type=template&id=2a5da4ca&scoped=true&\"\nimport script from \"./TimeInput.vue?vue&type=script&lang=js&\"\nexport * from \"./TimeInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a5da4ca\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <v-dialog\r\n      :value=\"isShown\"\r\n      @input=\"$emit('toggleVisibility', $event)\"\r\n      :persistent=\"locked\"\r\n  >\r\n    <v-card>\r\n      <v-progress-linear\r\n          v-if=\"upload.inProgress\"\r\n          absolute\r\n          top\r\n          :value=\"uploadProgress\"\r\n          color=\"primary\"\r\n      ></v-progress-linear>\r\n      <v-card-title>Upload file</v-card-title>\r\n      <v-card-text>\r\n        <v-alert\r\n            v-for=\"(alert, i) of alerts\"\r\n            :key=\"i\"\r\n            color=\"warning\"\r\n            v-text=\"alert\"\r\n        ></v-alert>\r\n        <v-form\r\n          v-model=\"valid\">\r\n          <v-file-input\r\n              show-size\r\n              label=\"File to upload\"\r\n              v-model=\"file\"\r\n              :rules=\"rules\"\r\n              required\r\n          ></v-file-input>\r\n          <v-checkbox\r\n              v-model=\"fileExpires\"\r\n              label=\"Temporary file\"\r\n          >\r\n          </v-checkbox>\r\n          <template v-if=\"fileExpires\">\r\n            <date-input\r\n                v-model=\"expire.date\"\r\n                :min=\"new Date()\"\r\n            >\r\n            </date-input>\r\n            <time-input\r\n              v-model=\"expire.time\">\r\n            </time-input>\r\n          </template>\r\n        </v-form>\r\n      </v-card-text>\r\n      <v-card-actions>\r\n        <v-spacer></v-spacer>\r\n        <v-btn\r\n            plain\r\n            @click.stop=\"closeDialog\"\r\n            :disabled=\"locked\"\r\n        >\r\n          Cancel\r\n        </v-btn>\r\n        <v-btn\r\n            plain\r\n            color=\"primary\"\r\n            @click.stop=\"uploadFile\"\r\n            :disabled=\"locked || !valid\"\r\n        >\r\n          Upload\r\n        </v-btn>\r\n      </v-card-actions>\r\n    </v-card>\r\n  </v-dialog>\r\n</template>\r\n\r\n<script>\r\nimport DateInput from \"@/components/DateInput\";\r\nimport TimeInput from \"@/components/TimeInput\";\r\nimport {useAuthStore} from \"@/store/authStore\";\r\n// TODO: refactor\r\nfunction getExtension(file) {\r\n  const parts = file.split('.');\r\n  if (parts.length > 1)\r\n    return parts.pop();\r\n  return \"\";\r\n}\r\n// TODO: refactor common download/upload progress features\r\nexport default {\r\n  name: \"FileUploadDialog\",\r\n  components: {TimeInput, DateInput},\r\n  setup() {\r\n    const authStore = useAuthStore()\r\n    return { authStore }\r\n  },\r\n  model: {\r\n    prop: 'isShown',\r\n    event: 'toggleVisibility'\r\n  },\r\n  props: {\r\n    isShown: Boolean,\r\n    folderId: Number\r\n  },\r\n  data: () => ({\r\n    rules: [\r\n        value => !!value || 'File must be selected',\r\n        value => !value || value.size < 20 * 1000 * 1000 || 'File size must not exceed 20MB!',\r\n        value => !value || getExtension(value.name) !== 'php' || 'File must not be .php'\r\n    ],\r\n    valid: false,\r\n    file: null,\r\n    fileExpires: false,\r\n    alerts: [],\r\n    expire: {\r\n      date: new Date(),\r\n      time: new Date()\r\n    },\r\n    locked: false,\r\n    upload: {\r\n      inProgress: false,\r\n      progress: 0,\r\n      total: 0\r\n    }\r\n  }),\r\n  methods: {\r\n    uploadFile: async function() {\r\n      this.alerts = [];\r\n      if (this.fileExpires && !this.validateExpireTime())\r\n      {\r\n        this.alerts.push('File cannot expire before upload. Please select different date-time.');\r\n        return;\r\n      }\r\n      if (!this.file) {\r\n        this.alerts.push('File must be selected.');\r\n      }\r\n      this.locked = true;\r\n      this.upload.inProgress = true;\r\n      try {\r\n        const newFile = await this.authStore\r\n            .userRequestController\r\n            .uploadFile(\r\n                this.file,\r\n                this.folderId,\r\n                this.fileExpires ? this.expireDateTime : null,\r\n                (progress) => {\r\n                  this.upload.progress = progress.loaded;\r\n                  this.upload.total = progress.total;\r\n                }\r\n            );\r\n        this.$emit('new_file', newFile);\r\n        this.closeDialog();\r\n      } catch (e) {\r\n        console.log(e);\r\n        if (Array.isArray(e))\r\n          this.alerts.push(...e);\r\n        else throw \"An unexpected error occured while handling upload errors\";\r\n      } finally {\r\n        this.upload.inProgress = false;\r\n        this.locked = false;\r\n      }\r\n    },\r\n    closeDialog: function() {\r\n      this.reset();\r\n      this.$emit('toggleVisibility', false);\r\n    },\r\n    reset: function() {\r\n      this.file = null;\r\n      this.fileExpires = false;\r\n    },\r\n    validateExpireTime: function() {\r\n      return this.expireDateTime > new Date();\r\n    }\r\n  },\r\n  computed: {\r\n    expireDateTime: function() {\r\n      const dt = new Date(this.expire.date)\r\n      dt.setHours(this.expire.time.getHours());\r\n      dt.setMinutes(this.expire.time.getMinutes());\r\n      return dt;\r\n    },\r\n    uploadProgress: function() {\r\n      if (this.upload.inProgress)\r\n        return Math.round(this.upload.progress / this.upload.total * 100);\r\n      return 0;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FileUploadDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FileUploadDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FileUploadDialog.vue?vue&type=template&id=2dc9b356&scoped=true&\"\nimport script from \"./FileUploadDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./FileUploadDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2dc9b356\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.actions.length > 1)?_c('v-speed-dial',{attrs:{\"value\":_vm.controlsExpanded,\"transition\":\"slide-y-reverse-transition\",\"fixed\":\"\",\"bottom\":\"\",\"right\":\"\",\"direction\":\"top\"},on:{\"input\":function($event){return _vm.$emit('input', $event)}},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c('v-fab-transition',[_c('v-btn',{attrs:{\"color\":\"primary\",\"bottom\":\"\",\"right\":\"\",\"fab\":\"\"}},[(!_vm.controlsExpanded)?_c('v-icon',[_vm._v(\" mdi-plus \")]):_c('v-icon',[_vm._v(\" mdi-close \")])],1)],1)]},proxy:true}],null,false,2647995920)},_vm._l((_vm.actions),function(action){return _c('v-btn',{key:action.name,attrs:{\"fab\":\"\",\"dark\":\"\",\"small\":\"\",\"color\":action.color},on:{\"click\":function($event){return _vm.$emit(action.event)}}},[_c('v-icon',{domProps:{\"textContent\":_vm._s(action.icon)}})],1)}),1):_c('v-fab-transition',[_c('v-btn',{attrs:{\"color\":_vm.actions[0].color,\"fixed\":\"\",\"bottom\":\"\",\"right\":\"\",\"dark\":\"\",\"fab\":\"\"},on:{\"click\":function($event){return _vm.$emit(_vm.actions[0].event)}}},[_c('v-icon',{domProps:{\"textContent\":_vm._s(_vm.actions[0].icon)}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-speed-dial v-if=\"actions.length > 1\"\r\n      :value=\"controlsExpanded\"\r\n      @input=\"$emit('input', $event)\"\r\n      transition=\"slide-y-reverse-transition\"\r\n      fixed\r\n      bottom\r\n      right\r\n      direction=\"top\"\r\n  >\r\n    <template v-slot:activator>\r\n      <v-fab-transition>\r\n        <v-btn\r\n            color=\"primary\"\r\n            bottom\r\n            right\r\n            fab\r\n        >\r\n          <v-icon v-if=\"!controlsExpanded\">\r\n            mdi-plus\r\n          </v-icon>\r\n          <v-icon v-else>\r\n            mdi-close\r\n          </v-icon>\r\n        </v-btn>\r\n      </v-fab-transition>\r\n    </template>\r\n    <v-btn\r\n        v-for=\"action of actions\"\r\n        :key=\"action.name\"\r\n        fab\r\n        dark\r\n        small\r\n        :color=\"action.color\"\r\n        @click=\"$emit(action.event)\"\r\n    >\r\n      <v-icon v-text=\"action.icon\">\r\n      </v-icon>\r\n    </v-btn>\r\n  </v-speed-dial>\r\n  <v-fab-transition v-else>\r\n    <v-btn\r\n        :color=\"actions[0].color\"\r\n        fixed\r\n        bottom\r\n        right\r\n        dark\r\n        fab\r\n        @click=\"$emit(actions[0].event)\"\r\n    >\r\n      <v-icon v-text=\"actions[0].icon\">\r\n      </v-icon>\r\n    </v-btn>\r\n  </v-fab-transition>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"FloatingControls\",\r\n  model: {\r\n    prop: 'controlsExpanded'\r\n  },\r\n  props: {\r\n    controlsExpanded: Boolean,\r\n    actions: {\r\n      type: Array,\r\n      required: true,\r\n      validator: function (value) {\r\n        return value.length > 0;\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FloatingControls.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FloatingControls.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FloatingControls.vue?vue&type=template&id=e73231b4&scoped=true&\"\nimport script from \"./FloatingControls.vue?vue&type=script&lang=js&\"\nexport * from \"./FloatingControls.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e73231b4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"value\":_vm.isShown,\"persistent\":_vm.locked},on:{\"input\":function($event){return _vm.$emit('toggleVisibility', $event)}}},[_c('v-card',[_c('v-card-title',[_vm._v(\"Create folder\")]),_c('v-card-text',[_c('v-form',{model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_vm._l((_vm.alerts),function(alert,i){return _c('v-alert',{key:i,attrs:{\"color\":\"warning\"},domProps:{\"textContent\":_vm._s(alert)}})}),_c('v-text-field',{attrs:{\"label\":\"Folder name\",\"rules\":_vm.rules,\"required\":\"\"},model:{value:(_vm.folderName),callback:function ($$v) {_vm.folderName=$$v},expression:\"folderName\"}})],2)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"plain\":\"\",\"disabled\":_vm.locked},on:{\"click\":function($event){$event.stopPropagation();return _vm.closeDialog.apply(null, arguments)}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"plain\":\"\",\"color\":\"primary\",\"disabled\":_vm.locked || !_vm.valid},on:{\"click\":function($event){$event.stopPropagation();return _vm.createFolder.apply(null, arguments)}}},[_vm._v(\" Create \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-dialog\r\n      :value=\"isShown\"\r\n      @input=\"$emit('toggleVisibility', $event)\"\r\n      :persistent=\"locked\"\r\n  >\r\n    <v-card>\r\n      <v-card-title>Create folder</v-card-title>\r\n      <v-card-text>\r\n        <v-form\r\n            v-model=\"valid\"\r\n        >\r\n          <v-alert\r\n              v-for=\"(alert, i) of alerts\"\r\n              :key=\"i\"\r\n              color=\"warning\"\r\n              v-text=\"alert\"\r\n          ></v-alert>\r\n          <v-text-field\r\n              label=\"Folder name\"\r\n              :rules=\"rules\"\r\n              v-model=\"folderName\"\r\n              required\r\n          ></v-text-field>\r\n        </v-form>\r\n      </v-card-text>\r\n      <v-card-actions>\r\n        <v-spacer></v-spacer>\r\n        <v-btn\r\n            plain\r\n            @click.stop=\"closeDialog\"\r\n            :disabled=\"locked\"\r\n        >\r\n          Cancel\r\n        </v-btn>\r\n        <v-btn\r\n            plain\r\n            color=\"primary\"\r\n            @click.stop=\"createFolder\"\r\n            :disabled=\"locked || !valid\"\r\n        >\r\n          Create\r\n        </v-btn>\r\n      </v-card-actions>\r\n    </v-card>\r\n  </v-dialog>\r\n</template>\r\n\r\n<script>\r\nimport {useAuthStore} from \"@/store/authStore\";\r\n\r\nexport default {\r\n  name: \"FolderCreationDialog\",\r\n  setup() {\r\n    const authStore = useAuthStore()\r\n    return { authStore }\r\n  },\r\n  model: {\r\n    prop: 'isShown',\r\n    event: 'toggleVisibility'\r\n  },\r\n  props: {\r\n    isShown: Boolean,\r\n    folderId: Number\r\n  },\r\n  data: () => ({\r\n    rules: [\r\n      value => !!value\r\n    ],\r\n    valid: false,\r\n    alerts: [],\r\n    folderName: \"\",\r\n    locked: false\r\n  }),\r\n  methods: {\r\n    closeDialog: function() {\r\n      this.reset();\r\n      this.$emit('toggleVisibility', false);\r\n    },\r\n    createFolder: async function() {\r\n      this.locked = true;\r\n      this.alerts = [];\r\n      try{\r\n        const data = await this.authStore.userRequestController.createFolder(this.folderName)\r\n        this.$emit('new_folder', data);\r\n        this.closeDialog();\r\n      } catch (e) {\r\n        if (Array.isArray(e))\r\n          this.alerts.push(...e);\r\n        else throw \"An unexpected error occured while handling folder creation errors\";\r\n      } finally {\r\n        this.locked = false;\r\n      }\r\n    },\r\n    reset: function () {\r\n      this.folderName = \"\";\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FolderCreationDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FolderCreationDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FolderCreationDialog.vue?vue&type=template&id=3f53a010&scoped=true&\"\nimport script from \"./FolderCreationDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./FolderCreationDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f53a010\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"value\":_vm.isShown,\"persistent\":_vm.locked},on:{\"input\":function($event){return _vm.$emit('toggleVisibility', $event)}}},[_c('v-card',[(_vm.progress && _vm.progress.inProgress)?_c('v-progress-linear',{attrs:{\"value\":_vm.progressPercent}}):_vm._e(),_c('v-card-title',{domProps:{\"textContent\":_vm._s(_vm.title)}}),_c('v-card-text',[_c('v-form',{model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_vm._l((_vm.alerts),function(alert,i){return _c('v-alert',{key:i,attrs:{\"color\":\"warning\"},domProps:{\"textContent\":_vm._s(alert)}})}),_c('v-text-field',{attrs:{\"label\":_vm.fieldLabel,\"rules\":_vm.rules,\"placeholder\":_vm.placeholder,\"required\":\"\",\"readonly\":_vm.readonly,\"autofocus\":_vm.autofocus},model:{value:(_vm.fieldValue),callback:function ($$v) {_vm.fieldValue=$$v},expression:\"fieldValue\"}})],2)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"plain\":\"\",\"disabled\":_vm.locked},on:{\"click\":function($event){$event.stopPropagation();return _vm.closeDialog.apply(null, arguments)}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"plain\":\"\",\"color\":\"primary\",\"disabled\":_vm.locked || !_vm.valid},domProps:{\"textContent\":_vm._s(_vm.acceptActionTitle ?? 'Accept')},on:{\"click\":function($event){$event.stopPropagation();_vm.onAccept ? _vm.onAccept(_vm.fieldValue, _vm.alerts, _vm.closeDialog) : _vm.closeDialog()}}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-dialog\r\n      :value=\"isShown\"\r\n      @input=\"$emit('toggleVisibility', $event)\"\r\n      :persistent=\"locked\"\r\n  >\r\n    <v-card>\r\n      <v-progress-linear\r\n        v-if=\"progress && progress.inProgress\"\r\n        :value=\"progressPercent\"\r\n      >\r\n      </v-progress-linear>\r\n      <v-card-title v-text=\"title\"></v-card-title>\r\n      <v-card-text>\r\n        <v-form\r\n            v-model=\"valid\"\r\n        >\r\n          <v-alert\r\n              v-for=\"(alert, i) of alerts\"\r\n              :key=\"i\"\r\n              color=\"warning\"\r\n              v-text=\"alert\"\r\n          ></v-alert>\r\n          <v-text-field\r\n              :label=\"fieldLabel\"\r\n              :rules=\"rules\"\r\n              :placeholder=\"placeholder\"\r\n              v-model=\"fieldValue\"\r\n              required\r\n              :readonly=\"readonly\"\r\n              :autofocus=\"autofocus\"\r\n          ></v-text-field>\r\n        </v-form>\r\n      </v-card-text>\r\n      <v-card-actions>\r\n        <v-spacer></v-spacer>\r\n        <v-btn\r\n            plain\r\n            @click.stop=\"closeDialog\"\r\n            :disabled=\"locked\"\r\n        >\r\n          Cancel\r\n        </v-btn>\r\n        <v-btn\r\n            plain\r\n            color=\"primary\"\r\n            @click.stop=\"onAccept ? onAccept(fieldValue, alerts, closeDialog) : closeDialog()\"\r\n            :disabled=\"locked || !valid\"\r\n            v-text=\"acceptActionTitle ?? 'Accept'\"\r\n        >\r\n        </v-btn>\r\n      </v-card-actions>\r\n    </v-card>\r\n  </v-dialog>\r\n</template>\r\n\r\n<script>\r\nimport {useAuthStore} from \"@/store/authStore\";\r\n\r\nexport default {\r\n  name: \"OneFieldDialog\",\r\n  setup() {\r\n    const authStore = useAuthStore()\r\n    return { authStore }\r\n  },\r\n  model: {\r\n    prop: 'isShown',\r\n    event: 'toggleVisibility'\r\n  },\r\n  props: {\r\n    isShown: {\r\n      type: Boolean,\r\n      required: true\r\n    },\r\n    onShow: {\r\n      type: Function,\r\n      required: false\r\n    },\r\n    onAccept: {\r\n      type: Function,\r\n      required: false\r\n    },\r\n    acceptActionTitle: String,\r\n    title: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    fieldLabel: String,\r\n    placeholder: String,\r\n    readonly: Boolean,\r\n    autofocus: Boolean\r\n  },\r\n  data: () => ({\r\n    rules: [\r\n      value => !!value\r\n    ],\r\n    valid: false,\r\n    alerts: [],\r\n    fieldValue: \"\",\r\n    locked: false,\r\n    progress: {\r\n      inProgress: false,\r\n      progress: 0,\r\n      total: 0\r\n    }\r\n  }),\r\n  methods: {\r\n    closeDialog: function() {\r\n      this.reset();\r\n      this.$emit('toggleVisibility', false);\r\n    },\r\n    reset: function () {\r\n      this.locked = false;\r\n      this.alerts = [];\r\n      this.fieldValue = \"\";\r\n    }\r\n  },\r\n  computed: {\r\n    progressPercent: function() {\r\n      if (this.progress === undefined || this.progress.inProgress === false)\r\n        return 0;\r\n      return Math.round(this.progress.progress / this.progress.total * 100);\r\n    }\r\n  },\r\n  watch: {\r\n    isShown: function(newValue, oldValue) {\r\n      if (this.onShow && !oldValue && newValue) this.onShow(this);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OneFieldDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OneFieldDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OneFieldDialog.vue?vue&type=template&id=31e5147e&scoped=true&\"\nimport script from \"./OneFieldDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./OneFieldDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"31e5147e\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <v-container>\r\n    <v-toolbar>\r\n      <v-toolbar-title v-text=\"currentFolder.name\"></v-toolbar-title>\r\n      <v-spacer></v-spacer>\r\n      <v-btn-toggle\r\n        v-model=\"viewMode\"\r\n        group\r\n        mandatory\r\n      >\r\n        <v-btn>\r\n          <v-icon>\r\n            mdi-format-list-bulleted\r\n          </v-icon>\r\n        </v-btn>\r\n        <v-btn>\r\n          <v-icon>\r\n            mdi-dots-grid\r\n          </v-icon>\r\n        </v-btn>\r\n      </v-btn-toggle >\r\n      <v-chip class=\"ml-4\"\r\n          v-text=\"formattedFolderSize\"></v-chip>\r\n    </v-toolbar>\r\n    <component v-bind:is=\"selectedPreload\" v-if=\"!loaded\"></component>\r\n    <component v-bind:is=\"selectedViewLayout\"\r\n        v-else\r\n        :files=\"files\"\r\n        :folders=\"folders\"\r\n        @delete_file=\"deleteFile($event)\"\r\n        @download_file=\"downloadFile($event)\"\r\n        @open_folder=\"openFolder($event)\"\r\n        @rename_file=\"renameFile($event)\"\r\n        @publish_file=\"publishFile($event)\"\r\n        @show_file_dialog=\"uploadDialogShown = true\"\r\n    >\r\n    </component>\r\n    <file-upload-dialog\r\n        v-model=\"uploadDialogShown\"\r\n        :folder-id=\"folderId ? parseInt(folderId) : -1\"\r\n        @new_file=\"processNewFile\"\r\n    ></file-upload-dialog>\r\n    <folder-creation-dialog\r\n      v-model=\"creationDialogShown\"\r\n      @new_folder=\"processNewFolder\"\r\n    >\r\n    </folder-creation-dialog>\r\n    <one-field-dialog\r\n      v-model=\"auxDialog.shown\"\r\n      :on-accept=\"auxDialog.action\"\r\n      :accept-action-title=\"auxDialog.actionTitle\"\r\n      :field-label=\"auxDialog.fieldLabel\"\r\n      :title=\"auxDialog.title\"\r\n      :placeholder=\"auxDialog.placeholder\"\r\n      :readonly=\"auxDialog.readonly\"\r\n      :on-show=\"auxDialog.onShow\"\r\n      :autofocus=\"auxDialog.autofocus\"\r\n    >\r\n    </one-field-dialog>\r\n    <floating-controls\r\n        v-model=\"controlsExpanded\"\r\n        :actions=\"restrictedControlsActions\"\r\n        @show_file_dialog=\"uploadDialogShown = true\"\r\n        @show_folder_dialog=\"creationDialogShown = true\"\r\n    ></floating-controls>\r\n\r\n    <v-snackbar\r\n        v-model=\"error.shown\"\r\n        timeout=\"2000\"\r\n    >\r\n      {{ error.text }}\r\n\r\n      <template v-slot:action=\"{ attrs }\">\r\n        <v-btn\r\n            color=\"primary\"\r\n            text\r\n            v-bind=\"attrs\"\r\n            @click=\"error.shown = false\"\r\n        >\r\n          Close\r\n        </v-btn>\r\n      </template>\r\n    </v-snackbar>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport FileListView from \"@/components/FileListView\";\r\nimport FileGridView from \"@/components/FileGridView\";\r\nimport {useAuthStore, fileSizeFormatter} from \"@/store/authStore\";\r\nimport PreloadListView from \"@/components/PreloadListView\";\r\nimport PreloadGridView from \"@/components/PreloadGridView\";\r\nimport FileUploadDialog from \"@/components/FileUploadDialog\";\r\nimport FloatingControls from \"@/components/FloatingControls\";\r\nimport FolderCreationDialog from \"@/components/FolderCreationDialog\";\r\nimport OneFieldDialog from \"@/components/OneFieldDialog\";\r\n\r\n/**\r\n * Loads data from server and links concrete file views to controls\r\n */\r\nexport default {\r\n  name: 'FileView',\r\n  setup() {\r\n    const authStore = useAuthStore()\r\n    return { authStore }\r\n  },\r\n  props: {\r\n    folderId: {\r\n      type: String,\r\n      default: \"-1\"\r\n    }\r\n  },\r\n  data: () => ({\r\n    loaded: false,\r\n    uploadDialogShown: false,\r\n    creationDialogShown: false,\r\n    viewMode: null,\r\n    auxDialog: {\r\n      shown: false,\r\n      action: undefined,\r\n      onShow: undefined,\r\n      readonly: false,\r\n      actionTitle: undefined,\r\n      fieldLabel: \"\",\r\n      title: \"\",\r\n      placeholder: \"\",\r\n      autofocus: true\r\n    },\r\n    currentFolder: {\r\n      name: \"/\",\r\n      size: 0\r\n    },\r\n    error: {\r\n      shown: false,\r\n      text: \"\"\r\n    },\r\n    controlsExpanded: false,\r\n    controlsActions: [\r\n      {\r\n        name: 'uploadFile',\r\n        icon: 'mdi-file-plus',\r\n        event: 'show_file_dialog',\r\n        color: 'green'\r\n      },\r\n      {\r\n        name: 'createFolder',\r\n        icon: 'mdi-folder-plus',\r\n        event: 'show_folder_dialog',\r\n        color: 'blue'\r\n      }\r\n    ],\r\n    files: [],\r\n    folders: [],\r\n    timers: []\r\n  }),\r\n  computed: {\r\n    selectedViewLayout: function() {\r\n      const layouts = ['FileListView', 'FileGridView'];\r\n      this.authStore.setPreferredFileLayout(this.viewMode);\r\n      return layouts[this.viewMode];\r\n    },\r\n    selectedPreload: function() {\r\n      const preloads = ['PreloadListView', 'PreloadGridView'];\r\n      return preloads[this.viewMode];\r\n    },\r\n    formattedFolderSize: function() {\r\n      return fileSizeFormatter(this.currentFolder.size);\r\n    },\r\n    restrictedControlsActions: function() {\r\n      if (parseInt(this.folderId) === -1)\r\n        return this.controlsActions;\r\n      else return [this.controlsActions.find((a) => a.name === 'uploadFile')];\r\n    }\r\n  },\r\n  methods: {\r\n    renameFile: function(file) {\r\n      this.auxDialog.actionTitle = \"Rename\";\r\n      this.auxDialog.fieldLabel = \"New name\";\r\n      this.auxDialog.placeholder = file.name;\r\n      this.auxDialog.readonly = false;\r\n      this.auxDialog.onShow = undefined;\r\n      this.auxDialog.title = \"Rename file\";\r\n      this.auxDialog.action = async (newName, alerts, closeDialog) => {\r\n        try {\r\n          const result = await this.authStore.userRequestController.renameFile(file.id, newName);\r\n          file.name = result.name;\r\n          file.full_name = result.full_name;\r\n          closeDialog();\r\n        } catch (e) {\r\n          if (Array.isArray(e))\r\n            alerts.push(...e);\r\n          else throw \"Unknown error encountered during renaming file\";\r\n        }\r\n      };\r\n      this.auxDialog.shown = true;\r\n    },\r\n    publishFile: function(file) {\r\n      this.auxDialog.actionTitle = \"Ok\";\r\n      this.auxDialog.fieldLabel = \"Share link\"\r\n      this.auxDialog.placeholder = \"\";\r\n      this.auxDialog.action = undefined;\r\n      this.auxDialog.readonly = true;\r\n      this.auxDialog.title = \"Your public file link:\";\r\n      this.auxDialog.onShow = async (dialog) => {\r\n        dialog.progress.inProgress = true;\r\n        try {\r\n          let proxyLink = null;\r\n          if (!file.public_url) {\r\n            const link = await this.authStore.userRequestController.publishFile(file.id);\r\n            proxyLink = this.buildProxyLink(link.link);\r\n            file.public_url = proxyLink;\r\n          }\r\n          dialog.fieldValue = file.public_url;\r\n        } catch (e) {\r\n          dialog.alerts.push(...e);\r\n        }\r\n        dialog.progress.inProgress = false;\r\n      }\r\n      this.auxDialog.shown = true;\r\n    },\r\n    deleteFile: async function(file) {\r\n      if (file.is_downloading) return;\r\n      const answer = await this.$confirm(`Do you really want to delete ${file.name}?`, {\r\n        title: 'Delete file',\r\n        color: 'primary',\r\n        icon: 'mdi-help'\r\n      });\r\n      if (answer === true)\r\n        try {\r\n          await this.authStore.userRequestController.deleteFile(file.id);\r\n          this.removeFileFromView(file);\r\n        } catch(error) {\r\n          this.error.text = error.toString();\r\n          this.error.shown = true;\r\n          this.removeFileFromView(file);\r\n        }\r\n    },\r\n    downloadFile: function(file) {\r\n      // Prevent additional downloads\r\n      if (file.is_downloading) return;\r\n      file.is_downloading = true;\r\n      this.authStore.userRequestController.downloadFile(\r\n          file,\r\n          (event) => {\r\n            file.download_progress = event.loaded;\r\n            file.download_total = event.total;\r\n          }\r\n      ).then(() => {\r\n        file.is_downloading = false;\r\n        file.download_total = 0;\r\n        file.download_progress = 0;\r\n      }).catch((error) => {\r\n        this.error.text = error.toString();\r\n        this.error.shown = true;\r\n        this.removeFileFromView(file);\r\n      });\r\n    },\r\n    openFolder: function(folder) {\r\n      this.$router.push(`/${folder.id}`);\r\n    },\r\n    processNewFile: function(file) {\r\n      this.files.push(file);\r\n      this.transformFile(this.files[this.files.length - 1]);\r\n      this.updateStorage(file.size);\r\n    },\r\n    processNewFolder: function(folder) {\r\n      this.folders.push(folder);\r\n      this.transformFolder(this.folders[this.folders.length - 1]);\r\n    },\r\n    updateStorage: function(amount) {\r\n      this.authStore.updateStorageTaken(amount);\r\n      if (this.folderId !== -1)\r\n        this.currentFolder.size += amount;\r\n    },\r\n    removeFileFromView: function(file) {\r\n      this.files = this.files.filter((f) => f.id !== file.id);\r\n      this.updateStorage(-file.size);\r\n    },\r\n    transformFile: function(file) {\r\n      file.expires_at = file.expires_at ? new Date(file.expires_at) : null;\r\n      if (file.expires_at)\r\n        this.setRemovalTimer(file);\r\n      file.created_at = new Date(file.created_at);\r\n      file.updated_at = new Date(file.updated_at);\r\n      if (file.public_url)\r\n        file.public_url = this.buildProxyLink(file.public_url);\r\n      this.$set(file, 'is_downloading', false);\r\n      this.$set(file, 'download_progress', 0);\r\n      this.$set(file, 'download_total', 0);\r\n    },\r\n    setRemovalTimer: function(file) {\r\n      const eta = file.expires_at - new Date();\r\n      const timerId = setTimeout(() => {\r\n        if (this.files.includes(file))\r\n        {\r\n          this.removeFileFromView(file);\r\n          this.error.text = `Removed file ${file.name}: expired`;\r\n          this.error.shown = true;\r\n        }\r\n      }, eta);\r\n      this.timers.push(timerId);\r\n    },\r\n    transformFolder: function(folder) {\r\n      folder.created_at = new Date(folder.created_at);\r\n    },\r\n    buildProxyLink: function(publicLink) {\r\n      // Depends on current link format\r\n      const uuid = publicLink.split('/').pop();\r\n      const targetRoute = this.$router.resolve(`/download/${uuid}`);\r\n      const host = `${window.location.origin}${window.location.pathname}`;\r\n      return `${host}${targetRoute.href}`;\r\n    },\r\n    loadData: async function(folderId) {\r\n      if (folderId !== '-1') {\r\n        try {\r\n          this.currentFolder = await this.authStore.userRequestController.getFolder(folderId);\r\n        } catch (e) {\r\n          // If unknown folder id encountered navigate to root\r\n          this.$router.push('/');\r\n          return;\r\n        }\r\n      }\r\n      else {\r\n        this.currentFolder = {\r\n          name: '/',\r\n          size: this.authStore.user.storageInUse.value\r\n        }\r\n      }\r\n\r\n      [this.files, this.folders] = await Promise.all([\r\n        this.authStore.userRequestController.getFiles(folderId),\r\n        Number(folderId) === -1 ? this.authStore.userRequestController.getFolders() : [{\r\n          id: -1,\r\n          name: \"..\"\r\n        }]\r\n      ]);\r\n      this.files.forEach(this.transformFile);\r\n      this.folders.forEach(this.transformFolder);\r\n      this.loaded = true;\r\n    },\r\n    clearTimers: function() {\r\n      this.timers.forEach((timer) => clearTimeout(timer));\r\n    }\r\n  },\r\n  components: {\r\n    OneFieldDialog,\r\n    FolderCreationDialog,\r\n    FloatingControls,\r\n    FileUploadDialog,\r\n    PreloadListView,\r\n    PreloadGridView,\r\n    FileGridView,\r\n    FileListView\r\n  },\r\n  beforeMount: async function () {\r\n    if (this.authStore.user.preferredFileLayout)\r\n      this.viewMode = this.authStore.user.preferredFileLayout.value;\r\n    await this.loadData(this.folderId);\r\n  },\r\n  beforeRouteUpdate: async function(to, from, next) {\r\n    if (to.name === from.name && to.params.folderId !== from.params.folderId){\r\n      this.clearTimers();\r\n      await this.loadData(to.params.folderId ?? \"-1\");\r\n      next();\r\n    }\r\n    else next();\r\n  },\r\n  beforeRouteLeave(to, from, next) {\r\n    if (to.name !== from.name)\r\n      this.clearTimers();\r\n    next();\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FileView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FileView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FileView.vue?vue&type=template&id=509eda1a&\"\nimport script from \"./FileView.vue?vue&type=script&lang=js&\"\nexport * from \"./FileView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',{attrs:{\"fill-height\":\"\"}},[_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"Log in\")]),_c('v-card-text',[_c('v-form',{ref:\"form\",model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[(_vm.alert)?_vm._l((_vm.alert.errors),function(error,i){return _c('v-alert',{key:i,attrs:{\"dense\":\"\",\"type\":_vm.alert.success ? 'success' : 'warning'}},[_vm._v(\" \"+_vm._s(error)+\" \")])}):_vm._e(),_c('v-text-field',{staticClass:\"input--fix-autofill\",attrs:{\"label\":\"Email\",\"rules\":_vm.validation.emailRules,\"required\":\"\"},model:{value:(_vm.login),callback:function ($$v) {_vm.login=$$v},expression:\"login\"}}),_c('v-text-field',{staticClass:\"input--fix-autofill\",attrs:{\"label\":\"Password\",\"rules\":_vm.validation.fieldRules,\"append-icon\":_vm.passwordVisible ? 'mdi-eye' : 'mdi-eye-off',\"type\":_vm.passwordVisible ? 'text' : 'password',\"required\":\"\"},on:{\"click:append\":function($event){_vm.passwordVisible = !_vm.passwordVisible}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],2)],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"loading\":_vm.loading,\"plain\":\"\",\"color\":\"primary\",\"disabled\":!_vm.valid},on:{\"click\":_vm.authenticate}},[_vm._v(\" Log in \")]),_c('v-btn',{ref:\"regBtn\",attrs:{\"loading\":_vm.loading,\"plain\":\"\"},on:{\"click\":_vm.navigateToRegistration}},[_vm._v(\" Register \")])],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container fill-height>\r\n    <v-row align=\"center\" justify=\"center\">\r\n      <v-col cols=\"6\">\r\n        <v-card>\r\n          <v-card-title>Log in</v-card-title>\r\n          <v-card-text>\r\n            <v-form\r\n                ref=\"form\"\r\n                v-model=\"valid\"\r\n            >\r\n              <template v-if=\"alert\">\r\n                <v-alert dense v-for=\"(error, i) of alert.errors\" :key=\"i\" :type=\"alert.success ? 'success' : 'warning'\">\r\n                  {{error}}\r\n                </v-alert>\r\n              </template>\r\n              <v-text-field\r\n                  class=\"input--fix-autofill\"\r\n                  v-model=\"login\"\r\n                  label=\"Email\"\r\n                  :rules=\"validation.emailRules\"\r\n                  required\r\n              >\r\n              </v-text-field>\r\n              <v-text-field\r\n                  class=\"input--fix-autofill\"\r\n                  v-model=\"password\"\r\n                  label=\"Password\"\r\n                  :rules=\"validation.fieldRules\"\r\n                  :append-icon=\"passwordVisible ? 'mdi-eye' : 'mdi-eye-off'\"\r\n                  :type=\"passwordVisible ? 'text' : 'password'\"\r\n                  @click:append=\"passwordVisible = !passwordVisible\"\r\n                  required\r\n              >\r\n              </v-text-field>\r\n            </v-form>\r\n          </v-card-text>\r\n\r\n          <v-card-actions>\r\n            <v-btn\r\n                :loading=\"loading\"\r\n                plain\r\n                color=\"primary\"\r\n                :disabled=\"!valid\"\r\n                @click=\"authenticate\"\r\n            >\r\n              Log in\r\n            </v-btn>\r\n            <v-btn\r\n                :loading=\"loading\"\r\n                ref=\"regBtn\"\r\n                plain\r\n                @click=\"navigateToRegistration\"\r\n            >\r\n              Register\r\n            </v-btn>\r\n          </v-card-actions>\r\n        </v-card>\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { mapStores } from 'pinia';\r\nimport {useAuthStore} from \"@/store/authStore\";\r\n\r\nexport default {\r\n  name: \"AuthView\",\r\n  computed: {\r\n    ...mapStores(useAuthStore)\r\n  },\r\n  data: () => ({\r\n    valid: false,\r\n    passwordVisible: false,\r\n    login: \"\",\r\n    password: \"\",\r\n    alert: null,\r\n    loading: false,\r\n    validation: {\r\n      fieldRules: [v => !!v || 'Field is required'],\r\n      emailRules: [\r\n          v => !!v || 'E-mail is required',\r\n          v => /.+@.+\\..+/.test(v) || 'E-mail must be valid'\r\n      ]\r\n    }\r\n  }),\r\n  methods: {\r\n    authenticate: async function() {\r\n      this.loading = true;\r\n      const result = await this.authStore.authenticate(this.login, this.password);\r\n      this.loading = false;\r\n      if (result.success) {\r\n        this.alert = null;\r\n        this.$router.push('/');\r\n      }\r\n      else this.alert = result;\r\n    },\r\n    navigateToRegistration: function() {\r\n      this.$router.push('/register');\r\n    }\r\n  },\r\n  // Ugly fix for overlap of labels and autofill (https://stackoverflow.com/a/73633659/8244160)\r\n  // TODO: replace with one based on animation event\r\n  mounted() {\r\n    setTimeout(() => {\r\n      const els = document.querySelectorAll(\"input:-webkit-autofill\")\r\n      els.forEach((el) => {\r\n        const label = el.parentElement.querySelector(\"label\")\r\n        label.classList.add(\"v-label--active\")\r\n      })\r\n    }, 100)\r\n  },\r\n}\r\n</script>\r\n\r\n<!--suppress CssInvalidPseudoSelector -->\r\n<style scoped>\r\n\r\n  /* Fix bg color on autocomplete. deep selector allows styles to be applied to inputs inside v-text-field */\r\n  .input--fix-autofill:deep(input:-webkit-autofill),\r\n  .input--fix-autofill:deep(input:-webkit-autofill:hover),\r\n  .input--fix-autofill:deep(input:-webkit-autofill:focus),\r\n  .input--fix-autofill:deep(input:-webkit-autofill:active) {\r\n    transition: background-color 0s ease-in-out 500000s;\r\n  }\r\n\r\n  /* Alternative variant with solid background */\r\n  /*input:-webkit-autofill,*/\r\n  /*input:-webkit-autofill:hover,*/\r\n  /*input:-webkit-autofill:focus,*/\r\n  /*input:-webkit-autofill:active{*/\r\n  /*  -webkit-box-shadow: 0 0 0 30px white inset !important;*/\r\n  /*}*/\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AuthView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AuthView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AuthView.vue?vue&type=template&id=895fb25e&scoped=true&\"\nimport script from \"./AuthView.vue?vue&type=script&lang=js&\"\nexport * from \"./AuthView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AuthView.vue?vue&type=style&index=0&id=895fb25e&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"895fb25e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',{attrs:{\"fill-height\":\"\"}},[_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"Register\")]),_c('v-card-text',[_c('v-form',{ref:\"form\",model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[(_vm.alert)?_vm._l((_vm.alert.errors),function(error,i){return _c('v-alert',{key:i,attrs:{\"dense\":\"\",\"type\":_vm.alert.success ? 'success' : 'warning'}},[_vm._v(\" \"+_vm._s(error)+\" \")])}):_vm._e(),_c('v-text-field',{staticClass:\"input--fix-autofill\",attrs:{\"label\":\"User name\",\"rules\":_vm.validation.fieldRules,\"required\":\"\",\"autocomplete\":\"login\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('v-text-field',{staticClass:\"input--fix-autofill\",attrs:{\"label\":\"Email\",\"rules\":_vm.validation.emailRules,\"required\":\"\",\"autocomplete\":\"email\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('v-text-field',{staticClass:\"input--fix-autofill\",attrs:{\"label\":\"Password\",\"rules\":_vm.validation.fieldRules,\"append-icon\":_vm.passwordVisible ? 'mdi-eye' : 'mdi-eye-off',\"type\":_vm.passwordVisible ? 'text' : 'password',\"required\":\"\",\"autocomplete\":\"password\"},on:{\"click:append\":function($event){_vm.passwordVisible = !_vm.passwordVisible}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],2)],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"loading\":_vm.loading,\"plain\":\"\",\"color\":\"primary\",\"disabled\":!_vm.valid},on:{\"click\":_vm.register}},[_vm._v(\" Register \")])],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container fill-height>\r\n    <v-row align=\"center\" justify=\"center\">\r\n      <v-col cols=\"6\">\r\n        <v-card>\r\n          <v-card-title>Register</v-card-title>\r\n          <v-card-text>\r\n            <v-form\r\n                ref=\"form\"\r\n                v-model=\"valid\"\r\n            >\r\n              <template v-if=\"alert\">\r\n                <v-alert dense v-for=\"(error, i) of alert.errors\" :key=\"i\" :type=\"alert.success ? 'success' : 'warning'\">\r\n                  {{error}}\r\n                </v-alert>\r\n              </template>\r\n              <v-text-field\r\n                  class=\"input--fix-autofill\"\r\n                  v-model=\"name\"\r\n                  label=\"User name\"\r\n                  :rules=\"validation.fieldRules\"\r\n                  required\r\n                  autocomplete=\"login\"\r\n              >\r\n              </v-text-field>\r\n              <v-text-field\r\n                  class=\"input--fix-autofill\"\r\n                  v-model=\"email\"\r\n                  label=\"Email\"\r\n                  :rules=\"validation.emailRules\"\r\n                  required\r\n                  autocomplete=\"email\"\r\n              >\r\n              </v-text-field>\r\n              <v-text-field\r\n                  class=\"input--fix-autofill\"\r\n                  v-model=\"password\"\r\n                  label=\"Password\"\r\n                  :rules=\"validation.fieldRules\"\r\n                  :append-icon=\"passwordVisible ? 'mdi-eye' : 'mdi-eye-off'\"\r\n                  :type=\"passwordVisible ? 'text' : 'password'\"\r\n                  @click:append=\"passwordVisible = !passwordVisible\"\r\n                  required\r\n                  autocomplete=\"password\"\r\n              >\r\n              </v-text-field>\r\n            </v-form>\r\n          </v-card-text>\r\n\r\n          <v-card-actions>\r\n            <v-btn\r\n                :loading=\"loading\"\r\n                plain\r\n                color=\"primary\"\r\n                :disabled=\"!valid\"\r\n                @click=\"register\"\r\n            >\r\n              Register\r\n            </v-btn>\r\n          </v-card-actions>\r\n        </v-card>\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { mapStores } from 'pinia';\r\nimport {useAuthStore} from \"@/store/authStore\";\r\n\r\n// TODO: Reduce duplicated code\r\nexport default {\r\n  name: \"RegisterView\",\r\n  computed: {\r\n    ...mapStores(useAuthStore)\r\n  },\r\n  data: () => ({\r\n    valid: false,\r\n    passwordVisible: false,\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    alert: null,\r\n    loading: false,\r\n    validation: {\r\n      fieldRules: [v => !!v || 'Field is required'],\r\n      emailRules: [\r\n        v => !!v || 'E-mail is required',\r\n        v => /.+@.+\\..+/.test(v) || 'E-mail must be valid'\r\n      ]\r\n    }\r\n  }),\r\n  methods: {\r\n    register: async function() {\r\n      this.loading = true;\r\n      const result = await this.authStore.register(this.email, this.password, this.name);\r\n      if (result.success) {\r\n        this.alert = result;\r\n        const secRes = await this.authStore.authenticate(this.email, this.password);\r\n        if (secRes.success)\r\n        {\r\n          this.alert = null;\r\n          this.$router.push('/');\r\n        }\r\n        else this.alert = {success: false, errors: ['Autologin failed', ...secRes.errors]};\r\n      }\r\n      else this.alert = result;\r\n      this.loading = false;\r\n    },\r\n  },\r\n  // Ugly fix for overlap of labels and autofill (https://stackoverflow.com/a/73633659/8244160)\r\n  // TODO: replace with one based on animation event\r\n  mounted() {\r\n    setTimeout(() => {\r\n      const els = document.querySelectorAll(\"input:-webkit-autofill\")\r\n      els.forEach((el) => {\r\n        const label = el.parentElement.querySelector(\"label\")\r\n        label.classList.add(\"v-label--active\")\r\n      })\r\n    }, 100)\r\n  },\r\n}\r\n</script>\r\n\r\n<!--suppress CssInvalidPseudoSelector -->\r\n<style scoped>\r\n/* Fix bg color on autocomplete. deep selector allows styles to be applied to inputs inside v-text-field */\r\n.input--fix-autofill:deep(input:-webkit-autofill),\r\n.input--fix-autofill:deep(input:-webkit-autofill:hover),\r\n.input--fix-autofill:deep(input:-webkit-autofill:focus),\r\n.input--fix-autofill:deep(input:-webkit-autofill:active) {\r\n  transition: background-color 0s ease-in-out 500000s;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RegisterView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RegisterView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RegisterView.vue?vue&type=template&id=d0bbb66e&scoped=true&\"\nimport script from \"./RegisterView.vue?vue&type=script&lang=js&\"\nexport * from \"./RegisterView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RegisterView.vue?vue&type=style&index=0&id=d0bbb66e&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d0bbb66e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',[_c('v-card',[_c('v-card-title',[_vm._v(\"Public file download\")]),_c('v-card-text',[_c('p',[_vm._v(\" Your file download should have been started. \")])]),_c('v-card-actions',[(_vm.authStore.isAuthorized)?_c('v-btn',{attrs:{\"plain\":\"\"},on:{\"click\":_vm.toFiles}},[_vm._v(\" Go to files \")]):_vm._e(),_c('v-spacer'),_c('v-btn',{attrs:{\"plain\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.downloadFile}},[_vm._v(\" Retry \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import BaseController from \"@/controllers/baseController\";\r\n\r\nexport default class PublicRequestController extends BaseController{\r\n\r\n    downloadPublicFile(uuid) {\r\n        const path = `${this.client.getUri()}/downloads/${uuid}`;\r\n        console.log(path);\r\n        try {\r\n            window.open(path);\r\n        } catch(e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n}","<template>\r\n  <v-container>\r\n    <v-card>\r\n      <v-card-title>Public file download</v-card-title>\r\n      <v-card-text>\r\n        <p>\r\n          Your file download should have been started.\r\n        </p>\r\n      </v-card-text>\r\n      <v-card-actions>\r\n        <v-btn\r\n          v-if=\"authStore.isAuthorized\"\r\n          plain\r\n          @click=\"toFiles\">\r\n          Go to files\r\n        </v-btn>\r\n        <v-spacer></v-spacer>\r\n        <v-btn\r\n            plain\r\n            color=\"primary\"\r\n            @click=\"downloadFile\"\r\n        >\r\n          Retry\r\n        </v-btn>\r\n      </v-card-actions>\r\n    </v-card>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport PublicRequestController from \"@/controllers/publicRequestController\";\r\nimport {useAuthStore} from \"@/store/authStore\";\r\n\r\nexport default {\r\n  name: \"PublicDownloadView\",\r\n  setup() {\r\n    const authStore = useAuthStore()\r\n    return { authStore }\r\n  },\r\n  props: {\r\n    uuid: String\r\n  },\r\n  methods: {\r\n    downloadFile: function() {\r\n      const requestController = new PublicRequestController('http://markwebdev.ru/api/v1');\r\n      requestController.downloadPublicFile(this.uuid);\r\n    },\r\n    toFiles: function() {\r\n      if (this.authStore.isAuthorized)\r\n        this.$router.push('/');\r\n      else this.$router.push('/auth');\r\n    }\r\n  },\r\n  mounted() {\r\n    this.downloadFile();\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PublicDownloadView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PublicDownloadView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PublicDownloadView.vue?vue&type=template&id=81af8f1e&scoped=true&\"\nimport script from \"./PublicDownloadView.vue?vue&type=script&lang=js&\"\nexport * from \"./PublicDownloadView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"81af8f1e\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport FileView from '../views/FileView.vue'\r\nimport AuthView from \"@/views/AuthView\";\r\nimport RegisterView from \"@/views/RegisterView\";\r\n\r\nimport {useAuthStore} from \"@/store/authStore\";\r\nimport PublicDownloadView from \"@/views/PublicDownloadView\";\r\n\r\nVue.use(VueRouter)\r\n\r\nconst routes = [\r\n  {\r\n    path: '/auth',\r\n    name: 'Auth',\r\n    component: AuthView\r\n  },\r\n  {\r\n    path: '/register',\r\n    name: 'Register',\r\n    component: RegisterView\r\n  },\r\n  {\r\n    path: '/about',\r\n    name: 'about',\r\n    // route level code-splitting\r\n    // this generates a separate chunk (about.[hash].js) for this route\r\n    // which is lazy-loaded when the route is visited.\r\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/AboutView.vue')\r\n  },\r\n  {\r\n    path: '/download/:uuid',\r\n    name: 'Public download',\r\n    component: PublicDownloadView,\r\n    props: true\r\n  },\r\n  {\r\n    path: '/:folderId?',\r\n    name: 'Files',\r\n    component: FileView,\r\n    props: true,\r\n    meta: {\r\n      requiresAuth: true\r\n    }\r\n  },\r\n]\r\n\r\nconst router = new VueRouter({\r\n  routes\r\n})\r\n\r\n// Deny access to unauthorized users and redirect them to auth\r\n// From official docs https://v3.router.vuejs.org/guide/advanced/meta.html\r\nrouter.beforeEach((to, from, next) => {\r\n  if (to.matched.some(record => record.meta.requiresAuth)) {\r\n    // this route requires auth, check if logged in\r\n    // if not, redirect to login page.\r\n    const userStore = useAuthStore();\r\n    if (!userStore.isAuthorized) {\r\n      next({\r\n        path: '/auth',\r\n        query: { redirect: to.fullPath }\r\n      });\r\n    } else {\r\n      next()\r\n    }\r\n  } else {\r\n    next()\r\n  }\r\n});\r\n\r\n// Subscribe to state changes to handle empty token\r\nuseAuthStore().$subscribe((\r\n    mutation,\r\n    state\r\n) => {\r\n    if (state.user.token.value == null)\r\n        if (router.currentRoute.name !== 'Auth')\r\n            router.push('/auth');\r\n});\r\n\r\nexport default router\r\n","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport { PiniaVuePlugin } from 'pinia'\r\nimport createPinia from \"@/controllers/piniaSingleton\";\r\nimport vuetify from './plugins/vuetify'\r\nimport router from './router'\r\nimport VuetifyConfirm from 'vuetify-confirm';\r\n\r\nVue.config.productionTip = false;\r\n\r\nVue.use(PiniaVuePlugin);\r\nVue.use(VuetifyConfirm, {vuetify});\r\nconst pinia = createPinia();\r\n\r\nnew Vue({\r\n  vuetify,\r\n  router,\r\n  pinia,\r\n  render: h => h(App)\r\n}).$mount('#app');\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + \"about\" + \".\" + \"7bd002e3\" + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"vue-cloud-storage:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkvue_cloud_storage\"] = self[\"webpackChunkvue_cloud_storage\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(2462); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["staticRenderFns","attrs","_t","staticClass","_c","require","_vm","field","value","displayable","_s","label","formatter","_v","key","action","on","domProps","render","instance","createPinia","createPiniaDefault","BaseController","constructor","host","settings","baseURL","timeout","headers","this","client","axios","url","params","errorHandler","response","post","data","e","get","delete","convertDateTime","date","parts","toISOString","split","LONG_TIMEOUT","UserRequestController","super","token","interceptors","request","use","config","Authorization","setUnAuthHandler","handler","error","status","setToken","email","password","content","genericPostRequest","Object","values","errors","flat","name","folderId","genericGetRequest","folder_id","folderName","AxiosError","id","newName","result","patch","genericDeleteRequest","file","expires_at","progressHandler","formData","FormData","append","onUploadProgress","responseType","onDownloadProgress","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","full_name","click","remove","revokeObjectURL","pinia","dateTimeReviver","reISO","test","Date","fileSizeFormatter","bytes","toFixed","getDefaultUserData","storageInUse","storageTotal","registrationDate","toLocaleString","preferredFileLayout","buildLabel","prefix","getLocalUser","user","localStorage","getItem","JSON","parse","defUser","keys","forEach","undefined","setLocalUser","setItem","stringify","useAuthStore","defineStore","state","userRequestController","getters","isAuthorized","actions","async","login","getUserData","success","register","logout","clearAuthData","userData","storage_size","storage_quota","created_at","console","debug","tryRememberUser","updateStorageTaken","amount","setPreferredFileLayout","layoutIndex","layoutData","Vue","store","$subscribe","mutation","detached","setup","authStore","methods","deduplicatedNavigation","computed","title","icon","component","components","UserMenu","TopBar","RouterView","toggleDrawer","navDrawerShown","Vuetify","viewMode","$$v","expression","loaded","tag","files","$event","openFolder","renameFile","publishFile","uploadDialogShown","model","deleteFile","creationDialogShown","callback","auxDialog","controlsExpanded","scopedSlots","$set","text","$listeners","folder","fileType","stopPropagation","fileTypes","type","regex","fileItemMixin","props","String","default","required","showInformation","$emit","download","getExtension","length","pop","fileExtension","find","updated_at","progress","is_downloading","download_total","Math","round","download_progress","mixins","fileLayoutMixin","selection","Array","folders","updateSelection","filter","k","NoFilesCard","FileListItem","_self","_l","index","_g","shortenedName","cut","FileGridItem","valid","fileExpires","time","closeDialog","fn","toLocaleDateString","min","max","menu","toLocaleTimeString","innerTime","emitTime","newDate","TimeInput","DateInput","prop","event","isShown","rules","alerts","expire","locked","upload","inProgress","total","uploadFile","reset","validateExpireTime","expireDateTime","dt","uploadProgress","color","validator","createFolder","progressPercent","fieldLabel","fieldValue","onAccept","onShow","acceptActionTitle","placeholder","readonly","autofocus","watch","shown","actionTitle","currentFolder","size","controlsActions","timers","selectedViewLayout","selectedPreload","formattedFolderSize","restrictedControlsActions","dialog","proxyLink","downloadFile","then","catch","processNewFile","processNewFolder","updateStorage","removeFileFromView","transformFile","setRemovalTimer","eta","transformFolder","buildProxyLink","loadData","Number","clearTimers","OneFieldDialog","FolderCreationDialog","FloatingControls","FileUploadDialog","PreloadListView","PreloadGridView","FileGridView","FileListView","beforeMount","beforeRouteUpdate","next","beforeRouteLeave","ref","alert","_e","validation","emailRules","authenticate","navigateToRegistration","passwordVisible","loading","fieldRules","v","mounted","setTimeout","els","PublicRequestController","downloadPublicFile","uuid","path","getUri","log","open","requestController","toFiles","VueRouter","routes","AuthView","RegisterView","PublicDownloadView","FileView","meta","requiresAuth","router","beforeEach","to","from","matched","some","record","userStore","query","redirect","fullPath","currentRoute","push","PiniaVuePlugin","VuetifyConfirm","vuetify","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","priority","notFulfilled","Infinity","i","fulfilled","j","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","f","chunkId","Promise","all","reduce","promises","u","miniCssF","g","globalThis","Function","obj","prototype","hasOwnProperty","dataWebpackPrefix","l","done","script","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","nc","src","onScriptComplete","prev","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","bind","target","head","appendChild","Symbol","toStringTag","p","installedChunks","installedChunkData","promise","resolve","reject","Error","loadingEnded","errorType","realSrc","message","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}